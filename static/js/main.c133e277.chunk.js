(this.webpackJsonpreactpagestest=this.webpackJsonpreactpagestest||[]).push([[0],{197:function(e,t,r){e.exports=r(482)},202:function(e,t,r){},205:function(e,t,r){},466:function(e,t){},468:function(e,t){},482:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(25),c=r.n(o),i=(r(202),r(38)),s=r(172),l=r(16),u=r(110),p=r(17),d=Object(p.a)(),h=Object(l.a)(s.a,Object(u.a)(d)),f=(r(204),r(205),r(15)),m=r(7),E=r(8),g=r(11),b=r(10),v=r(6),y=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(m.a)(this,r),n=t.call(this),console.log("ForceGraph rerendered"),n}return Object(E.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("forcegraph");window.addEventListener("resize",(function(){e.removeSVG(),e.createSVG(t.offsetWidth,t.offsetHeight),e.createSimulation(e.props.nodes,e.props.links,t.offsetWidth,t.offsetHeight)})),this.createSVG(t.offsetWidth,t.offsetHeight),this.createSimulation(this.props.nodes,this.props.links,t.offsetWidth,t.offsetHeight)}},{key:"componentDidUpdate",value:function(){this.removeSimulation();var e=document.getElementById("forcegraph");this.createSimulation(this.props.nodes,this.props.links,e.offsetWidth,e.offsetHeight)}},{key:"createSVG",value:function(e,t){console.log("createsvg fired");var r=v.h().scaleExtent([1,10]).on("zoom",(function(){var e=v.b.transform;n.attr("transform",e)})),n=v.g("#forcegraph").append("svg").attr("class","forcegraph").style("width",.8*e).style("height",.8*t).style("border","1px solid black").call(r).append("g");n.append("g").attr("class","links"),n.append("g").attr("class","nodescircle"),n.append("g").attr("class","nodestext"),n.append("g").attr("class","linkstext"),n.append("defs").attr("class","defs")}},{key:"removeSVG",value:function(){v.g("#forcegraph").selectAll("svg").remove()}},{key:"removeSimulation",value:function(){v.g(".nodestext").selectAll("text").remove(),v.g(".nodescircle").selectAll("circle").remove(),v.g(".links").selectAll("path").remove(),v.g(".linkstext").selectAll("text").remove()}},{key:"createSimulation",value:function(e,t,r,n){var a=v.f(e).force("charge",v.e().strength(-30)).force("center",v.c(.8*r/2,.8*n/2)).force("link",v.d().links(t).distance(200).id((function(e){return e.id}))).on("tick",(function(){console.log("ticked"),function(){var t=v.g(".nodestext").selectAll("text").data(e).call(o(a));t.enter().append("text").text((function(e){return e.id})).merge(t).attr("transform",(function(e){return"translate("+e.x+","+e.y+")"})),t.exit().remove()}(),function(){var t=v.g(".nodescircle").selectAll("circle").data(e).call(o(a));t.enter().append("circle").on("click",(function(e){alert(e.id),v.g(this).style("fill","magenta")})).attr("r",20).style("fill","#FD8D3C").merge(t).attr("transform",(function(e){return"translate("+e.x+","+e.y+")"})),t.exit().remove()}(),function(){var e=v.g(".links").selectAll("path").data(t);e.enter().append("path").attr("class",(function(e){return"link"})).attr("class",(function(e){return"link "+e.property})).attr("id",(function(e,t){return"linkId_"+t})).attr("marker-end",(function(e){return"url(#"+e.property.replace(/\s/g,"")+")"})).merge(e).attr("d",(function(e){e.target.x,e.source.x,e.target.y,e.source.y;return"M"+e.source.x+","+e.source.y+"A300,300 0 0,1 "+e.target.x+","+e.target.y})),e.exit().remove()}(),function(){var e=v.g(".linkstext").selectAll("text").data(t);e.enter().append("text").attr("x","100").attr("y","-20").attr("class","linklabel").append("textPath").attr("xlink:href",(function(e,t){return"#linkId_"+t})).text((function(e){return e.property})),e.exit().remove()}(),function(){var e=v.g(".defs").selectAll("marker").data(function(){var e=[];return t.forEach((function(t){e.push(t.property.replace(/\s/g,""))})),e}());e.enter().append("marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",30).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5"),e.exit().remove()}()}));var o=function(e){return v.a().on("start",(function(){return console.log("dragstarted")})).on("drag",(function(){return console.log("dragging")})).on("end",(function(){return alert("dragended")}))}}},{key:"render",value:function(){return a.a.createElement("div",{id:"forcegraph"})}}]),r}(a.a.Component),S=Object(f.connect)((function(e,t){return{nodes:e.nodes,links:e.links,history:e.router}}),(function(e,t){return Object(l.b)({},e)}))(y),j=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(m.a)(this,r),(n=t.call(this)).query="SELECT * WHERE{?sub ?pred ?obj .}LIMIT 10",n}return Object(E.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("p",null,this.props.datasource.currentDatasource.endpoint),a.a.createElement("button",{onClick:function(){return e.props.fetchTest()}},"Fetch Test"),a.a.createElement("button",{onClick:function(){return e.props.fetchAxiosGet()}},"Fetch axios Get"),a.a.createElement("button",{onClick:function(){return e.props.fetchAxiosPost(e.query,e.props.datasource.currentDatasource)}},"Fetch axios Post"),a.a.createElement("button",{onClick:function(){return e.props.fetchSPARQL()}},"Fetch SPARQL"),a.a.createElement("button",{onClick:function(){return e.props.sparql()}},"Fetch query"),a.a.createElement("button",{onClick:function(){return e.props.push("/graph")}},"Ga naar graph"))}}]),r}(a.a.Component),C=function(e){return{type:"SET_CURRENT_DATASOURCE",datasource:e}},O=r(22),k=r(183),T=r(184),_=function(e){var t=e.types,r=e.promise,n=Object(T.a)(e,["types","promise"]),a=Object(k.a)(t,3),o=a[0],c=a[1],i=a[2];return function(e){return e(Object(O.a)(Object(O.a)({},n),{},{type:o})),r.then((function(t){if(t.error||t.errors)throw new Error(t.error);return e(Object(O.a)(Object(O.a)({},n),{},{type:c,result:t})),t})).catch((function(t){e(Object(O.a)(Object(O.a)({},n),{},{type:i,error:t}))}))}},F=function(e){return _({types:["FETCH_SPARQL_REQUEST","FETCH_SPARQL_SUCCESS","FETCH_SPARQL_FAILURE"],promise:fetch({method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify("data")}).then((function(e){return e.json()}))})},A=r(33),w=r(174),L=r.n(w),x=r(211),R=function(){return _({types:["FETCH_TEST_REQUEST","FETCH_TEST_SUCCESS","FETCH_TEST_FAILURE"],promise:fetch("https://www.anapioficeandfire.com/api/books").then((function(e){return e.json()})).catch((function(e){console.log(e)}))})},H=function(){return _({types:["FETCH_TEST_REQUEST","FETCH_TEST_SUCCESS","FETCH_TEST_FAILURE"],promise:x.get("http://localhost:8080/rdf4j-workbench/repositories/1/query?action=&queryLn=SPARQL&query=SELECT%20%3Fsubject%20%3Fpredicate%20%3Fobject%0AWHERE%20%7B%0A%20%20%20%20%3Chttp%3A%2F%2Flod.onderwijsregistratie.nl%2Frio%2Fid%2FOnderwijsbestuur%2F100B490%3E%20%3Fpredicate%20%3Fobject%20.%0A%7D%20LIMIT%20100&limit_query=100&infer=true&Accept=application/sparql-results%2Bjson")})},U=function(e,t){return _({types:["FETCH_SPARQL_JSON_REQUEST","FETCH_SPARQL_JSON_SUCCESS","FETCH_SPARQL_JSON_FAILURE"],promise:x({method:"post",url:t,data:L.a.stringify({action:"exec",queryLn:"SPARQL",ref:"text",query:e}),headers:{Accept:"application/sparql-results+json"}})})},N=function(e){return _({types:["FETCH_TEST_REQUEST","FETCH_TEST_SUCCESS","FETCH_TEST_FAILURE"],promise:fetch("http://localhost:8080/rdf4j-workbench/repositories/1/query?action=&queryLn=SPARQL&query=SELECT%20*%20%0AWHERE%20%0A%7B%0A%20%20%3Fs%20%3Fp%20%3Fo%20.%20%0A%20%20FILTER%20(regex(%3Fo%2C%20%229202LE%22))%0A%7D&limit_query=100&infer=true&",{headers:Object(A.a)({"Content-Type":"application/json"},"Content-Type","application/x-www-form-urlencoded")})})},P=r(14),Q=Object(f.connect)((function(e,t){return{nodes:e.nodes,links:e.links,datasource:e.datasource,history:e.router}}),(function(e,t){return Object(l.b)({fetchTest:R,fetchAxiosGet:H,fetchAxiosPost:U,fetchSPARQL:F,sparql:N,push:P.d},e)}))(j),q=function(e){return a.a.createElement("button",{className:"dropdown-item",onClick:e.onClick},e.name)},I=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(e){return Object(m.a)(this,r),t.call(this)}return Object(E.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"setDataSourceDropdown"},a.a.createElement("div",{className:"dropdown show"},a.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Specificeer bron: ",this.props.datasource.currentDatasource.name),a.a.createElement("div",{className:"","aria-labelledby":"dropdownMenuLink"},this.props.datasource.datasources.map((function(t,r){return a.a.createElement(q,{key:r,onClick:function(){return e.props.setCurrentDatasource(t)},name:t.name})})))))}}]),r}(a.a.Component),J=Object(f.connect)((function(e,t){return{datasource:e.datasource}}),(function(e,t){return Object(l.b)({setCurrentDatasource:C},e)}))(I),D=r(37),G=r(175),W=r.n(G),B=r(176),V=r.n(B),M=Object(D.createDevTools)(a.a.createElement(V.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q",defaultIsVisible:!0},a.a.createElement(W.a,{theme:"tomorrow"})));function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:"John"},{id:"Chip"},{id:"Voetbal"}],t=arguments.length>1?arguments[1]:void 0,r=Object.assign({},e);switch(t.type){case"FETCH_TEST_SUCCESS":var n=[{source:"John",target:"Fussbal",property:"plays"},{source:"John",target:"Chip",property:"Heeft vriend"},{source:"Eric",target:"Footbal",property:"Speelt"},{source:"John",target:"Golf",property:"Speelt"},{source:"Eric",target:"John",property:"Heeft vriend"},{source:"Eric",target:"Chip",property:"Heeft vriend"}];r=[];var a=[];return n.forEach((function(e){a.includes(e.source)||r.push({id:e.source}),a.includes(e.target)||r.push({id:e.target}),a.push(e.source),a.push(e.target)})),console.log("node NewState: "+r),r;case"FETCH_SPARQL_SUCCESS":return"ok dan";case"FETCH_SPARQL_JSON_SUCCESS":r=[];a=[];return t.result.data.results.bindings.forEach((function(e){a.includes(e.sub.value)||r.push({id:e.sub.value,type:e.sub.type}),a.includes(e.obj.value)||r.push({id:e.obj.value,type:e.obj.type}),a.push(e.sub.value),a.push(e.obj.value)})),r;default:return e}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{source:"John",target:"Voetbal",property:"Speelt"},{source:"Voetbal",target:"John",property:"Gespeeld door"},{source:"John",target:"Chip",property:"Heeft vriend"},{source:"Chip",target:"Voetbal",property:"Speelt"}],t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"FETCH_TEST_SUCCESS":(n=[{source:"John",target:"Fussbal",property:"plays"},{source:"John",target:"Chip",property:"Heeft vriend"},{source:"Eric",target:"Footbal",property:"Speelt"},{source:"John",target:"Golf",property:"Speelt"},{source:"Eric",target:"John",property:"Heeft vriend"},{source:"Eric",target:"Chip",property:"Heeft vriend"}]).sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:e.target>t.target?1:e.target<t.target?-1:0}));for(var a=0;a<n.length;a++)0!=a&&n[a].source==n[a-1].source&&n[a].target==n[a-1].target?n[a].linknum=n[a-1].linknum+1:n[a].linknum=1;return n;case"FETCH_SPARQL_SUCCESS":var o=r(449).parseString,c=t.result.data;return o(c,(function(e,t){console.dir(t),n=[],t.sparql.results[0].result.forEach((function(e){var t={source:"null",target:"null",property:"null",targetIsURI:"null"};e.binding.forEach((function(e){switch(e.$.name){case"subject":t.source=e.uri[0],console.log("source: "+t.source);break;case"predicate":t.property=e.uri[0]._;break;case"object":console.log(e),e.literal&&console.log("literal"),e.uri&&console.log("uri")}"null"==t.source&&(t.source="http://lod.onderwijsregistratie.nl/rio/id/Onderwijsbestuur/100B490")})),n.push(t)}))})),n;case"FETCH_SPARQL_JSON_SUCCESS":return n=[],t.result.data.results.bindings.forEach((function(e){var t=e.sub,r=e.obj,a=e.pred,o={};o.source=t.value,o.target=r.value,o.property=a.value,n.push(o)})),n;default:return e}}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SPARQL_SUCCESS":return"ok dan";default:return e}}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentDatasource:"https://lod.onderwijsregistratie.nl/rio/sparql",datasources:[{name:"Onderwijsregistratie",endpoint:"http://localhost:8080/rdf4j-workbench/repositories/rio/query"},{name:"Basisregistraties",endpoint:"https://data.pdok.nl/sparql"},{name:"Onderwijsinspectie",endpoint:"http://localhost:8080/rdf4j-workbench/repositories/ivho/query"},{name:"Kennisnet",endpoint:"http://localhost:8080/rdf4j-workbench/repositories/kennisnet/query"}]},t=arguments.length>1?arguments[1]:void 0,r=Object.assign({},e);switch(t.type){case"SET_CURRENT_DATASOURCE":return r.currentDatasource=t.datasource,r;default:return e}}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type.endsWith("_REQUEST")){var r=t.type.replace("_REQUEST",""),n=e[r]||0;return Object(O.a)(Object(O.a)({},e),{},Object(A.a)({},r,n+1))}if(t.type.endsWith("_SUCCESS")||t.type.endsWith("_FAILURE")){var a=t.type.replace("_SUCCESS","").replace("_FAILURE",""),o=e[a]||0;return Object(O.a)(Object(O.a)({},e),{},Object(A.a)({},a,o-1))}return e}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type.endsWith("_FAILURE")?t.error:t.type.endsWith("_REQUEST")?{}:e}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TEST_SUCCESS":return t.result;default:return e}}var te=function(e){return Object(l.c)({nodes:z,links:K,axios:Y,datasource:$,loading:X,error:Z,test:ee,router:Object(i.b)(e)})},re=Object(l.d)(h,M.instrument(),Object(D.persistState)(function(){var e=window.location.href.match(/[?&]debug=([^&#])\b/);return e&&e.length>0?e[1]:null}()));var ne,ae=r(39),oe=r(487),ce=r(488),ie=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"Navigation"},a.a.createElement(oe.a,{expand:"lg",fixed:"top"},a.a.createElement(oe.a.Brand,{as:ae.a,activeClassName:"notactive",to:"/"},a.a.createElement("img",{width:"100",height:"100",alt:"Logo"}),a.a.createElement("b",null,"React SPARQL Browser")),a.a.createElement(oe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),a.a.createElement(oe.a.Collapse,{id:"responsive-navbar-nav"},a.a.createElement(ce.a.Link,{as:ae.a,exact:!0,activeClassName:"active",to:"/"},"Home"),a.a.createElement(ce.a.Link,{as:ae.a,activeClassName:"active",to:"/contact"},"Contact"),a.a.createElement(ce.a.Link,{as:ae.a,activeClassName:"active",to:"/graph"},"Graph"))))}}]),r}(a.a.Component),se=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"Header"},a.a.createElement("header",null,a.a.createElement(ie,null)))}}]),r}(a.a.Component),le=r(484),ue=r(485),pe=r(486),de=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("footer",{className:"Footer"},a.a.createElement(le.a,null,a.a.createElement(ue.a,null,a.a.createElement(pe.a,{sm:4}),a.a.createElement(pe.a,{sm:4},a.a.createElement("p",null,"\xa9 React-SPARQL-Browser ",(new Date).getYear()+1900)),a.a.createElement(pe.a,{sm:4}))))}}]),r}(a.a.Component),he=r(4),fe=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"Home"},a.a.createElement("h2",null,"home"),a.a.createElement(Q,null))}}]),r}(a.a.Component),me=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"Graph"},a.a.createElement("h2",null,"Graph"),a.a.createElement(Q,null),a.a.createElement(J,null),a.a.createElement(S,null))}}]),r}(a.a.Component),Ee=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(m.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(){e.props.history.push("/cocktails")},e}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"Contact"},a.a.createElement("h2",null,"Contact form"),a.a.createElement("form",null,a.a.createElement("input",{placeholder:"name",type:"name"}),a.a.createElement("input",{placeholder:"email",type:"email"}),a.a.createElement("button",{onClick:this.onSubmit},"Submit")))}}]),r}(a.a.Component),ge=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"NotFound"},a.a.createElement("h1",null,"Not Found..."),a.a.createElement("button",{onClick:function(){return e.props.history.push("/home")}},"Go home"))}}]),r}(a.a.Component),be=function(e){Object(g.a)(r,e);var t=Object(b.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(E.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"PageContent"},a.a.createElement("div",null,a.a.createElement(he.c,null,a.a.createElement(he.a,{exact:!0,path:"/",component:fe}),a.a.createElement(he.a,{path:"/home",component:fe}),a.a.createElement(he.a,{path:"/sparql-react-browser/",component:fe}),a.a.createElement(he.a,{path:"/graph",component:me}),a.a.createElement(he.a,{path:"/contact",component:Ee}),a.a.createElement(he.a,{component:ge}))))}}]),r}(a.a.Component),ve=function(e){return e.isLoading&&a.a.createElement("span",null,"Loading...")},ye=Object(f.connect)((function(e,t){var r=e.loading;return{isLoading:Object.keys(r).reduce((function(e,t){return!0===e||r[t]>0}),!1)}}))(ve),Se=function(e){var t=e.message;return t?a.a.createElement("span",{style:{color:"red"}},"Error: ",t):null},je=Object(f.connect)((function(e,t){return{message:e.error&&e.error.message}}))(Se),Ce=Object(l.e)(te(d),ne,re);Ce.getState();console.log("initializing store: ",Ce.getState());Ce.subscribe((function(){}));var Oe=function(){return a.a.createElement(f.Provider,{store:Ce},a.a.createElement("div",{className:"App"},a.a.createElement(i.a,{history:d},a.a.createElement(se,null),a.a.createElement(be,null),a.a.createElement(ye,null),a.a.createElement(je,null),a.a.createElement(de,null)),!1))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[197,1,2]]]);
//# sourceMappingURL=main.c133e277.chunk.js.map