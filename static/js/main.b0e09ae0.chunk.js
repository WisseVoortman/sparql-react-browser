(this.webpackJsonpreactpagestest=this.webpackJsonpreactpagestest||[]).push([[0],{184:function(e,t,a){e.exports=a(437)},190:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(20),o=a.n(l),s=a(41),c=a(159),u=a(15),i=a(107),p=a(21),d=Object(p.a)(),h=Object(u.a)(c.a,Object(i.a)(d)),m=(a(190),a(47)),g=a(161),v=a.n(g),f=a(162),E=a.n(f),b=Object(m.createDevTools)(n.a.createElement(E.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q",defaultIsVisible:!0},n.a.createElement(v.a,{theme:"tomorrow"}))),y=a(14);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:1},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"FETCH_TEST_SUCCESS":case"FETCH_SPARQL_SUCCESS":case"FETCH_SPARQL_ABOUTSUBJECT_SUCCESS":return a.id=e.id+1,a;default:return e}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedNode:null,nodesList:[{id:"Subject",type:"literal"},{id:"Object",type:"literal"}]},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"SET_SELECTED_NODE":var r=t.node;return a.selectedNode=r,a;case"REMOVE_SELECTED_NODE":return a.selectedNode=null,a;case"FETCH_TEST_SUCCESS":var n=[{source:{value:"http://example.nl/persoon/Wisse",type:"uri"},target:{value:"http://example.nl/bedrijf/DUO",type:"uri"},property:"http://example.nl/Is stagair bij"},{source:{value:"http://example.nl/persoon/Wisse",type:"uri"},target:{value:"http://example.nl/adres/Adres1",type:"uri"},property:"http://example.nl/Heeft Woonadres"},{source:{value:"http://example.nl/adres/Adres1",type:"uri"},target:{value:"7913TH",type:"literal"},property:"http://example.nl/Postcode"},{source:{value:"http://example.nl/adres/Adres1",type:"uri"},target:{value:"25",type:"literal"},property:"http://example.nl/Nummer"},{source:{value:"http://example.nl/adres/Adres1",type:"uri"},target:{value:"Zuideropgaande",type:"literal"},property:"http://example.nl/Straatnaam"},{source:{value:"http://example.nl/adres/Adres1",type:"uri"},target:{value:"Hollandscheveld",type:"literal"},property:"http://example.nl/Plaatsnaam"},{source:{value:"http://example.nl/bedrijf/DUO",type:"uri"},target:{value:"http://example.nl/adres/Adres2",type:"uri"},property:"http://example.nl/Heeft adres"},{source:{value:"http://example.nl/adres/Adres2",type:"uri"},target:{value:"9722TB",type:"literal"},property:"http://example.nl/Postcode"},{source:{value:"http://example.nl/adres/Adres2",type:"uri"},target:{value:"12",type:"literal"},property:"http://example.nl/Nummer"},{source:{value:"http://example.nl/adres/Adres2",type:"uri"},target:{value:"Kempkensberg",type:"literal"},property:"http://example.nl/Straatnaam"},{source:{value:"http://example.nl/adres/Adres2",type:"uri"},target:{value:"Groningen",type:"literal"},property:"Plaatsnaam"},{source:{value:"http://example.nl/persoon/Wisse",type:"uri"},target:{value:"http://example.nl/adres/Adres2",type:"uri"},property:"Werkadres"}];a.nodesList=[];var l=[];return n.forEach((function(e){l.includes(e.source.value)||a.nodesList.push({id:e.source.value,type:e.source.type}),l.includes(e.target.value)||a.nodesList.push({id:e.target.value,type:e.target.type}),l.push(e.source.value),l.push(e.target.value)})),console.log("node NewState: "+a),a;case"FETCH_SPARQL_SUCCESS":a.nodesList=[];l=[];var o=t.result.data.head.vars;return t.result.data.results.bindings.forEach((function(e){l.includes(e[o[0]].value)||a.nodesList.push({id:e[o[0]].value,type:e[o[0]].type}),l.includes(e[o[2]].value)||a.nodesList.push({id:e[o[2]].value,type:e[o[2]].type}),l.push(e[o[0]].value),l.push(e[o[2]].value)})),a;case"FETCH_SPARQL_ABOUTSUBJECT_SUCCESS":a.nodesList=[];l=[];a.nodesList.push({id:t.result.config.subject,type:"uri"});o=t.result.data.head.vars;return t.result.data.results.bindings.forEach((function(e){console.log("hier: "),console.log(e[t.result.data.head.vars[1]]["xml:lang"]),e[o[0]].value.split("/")[2]===t.result.config.subject.split("/")[2]&&(l.includes(e[o[1]].value)||(!e[t.result.data.head.vars[1]]["xml:lang"]||"en"!==e[t.result.data.head.vars[1]]["xml:lang"]&&"nl"!==e[t.result.data.head.vars[1]]["xml:lang"]||a.nodesList.push({id:e[t.result.data.head.vars[1]].value,type:e[o[1]].type}),e[t.result.data.head.vars[1]]["xml:lang"]||a.nodesList.push({id:e[t.result.data.head.vars[1]].value,type:e[o[1]].type})),l.push(e[o[1]].value))})),a;case"FETCH_ABOUT_CLICKED_NODE_SUCCESS":a.nodesList=e.nodesList;l=[],o=t.result.data.head.vars;return t.result.data.results.bindings.forEach((function(e){e[o[0]].value.split("/")[2]===t.result.config.subject.split("/")[2]&&(l.includes(e[o[1]].value)||(!e[t.result.data.head.vars[1]]["xml:lang"]||"en"!==e[t.result.data.head.vars[1]]["xml:lang"]&&"nl"!==e[t.result.data.head.vars[1]]["xml:lang"]||a.nodesList.push({id:e[t.result.data.head.vars[1]].value,type:e[o[1]].type}),e[t.result.data.head.vars[1]]["xml:lang"]||a.nodesList.push({id:e[t.result.data.head.vars[1]].value,type:e[o[1]].type})),l.push(e[o[1]].value))})),a;default:return e}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{source:"Subject",target:"Object",property:"http://example.nl/property"}],t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"FETCH_TEST_SUCCESS":(a=[{source:"http://example.nl/persoon/Wisse",target:"http://example.nl/bedrijf/DUO",property:"http://example.nl/Is stagair bij"},{source:"http://example.nl/persoon/Wisse",target:"http://example.nl/adres/Adres1",property:"http://example.nl/Heeft Woonadres"},{source:"http://example.nl/adres/Adres1",target:"7913TH",property:"http://example.nl/Postcode"},{source:"http://example.nl/adres/Adres1",target:"25",property:"http://example.nl/Nummer"},{source:"http://example.nl/adres/Adres1",target:"Zuideropgaande",property:"http://example.nl/Straatnaam"},{source:"http://example.nl/adres/Adres1",target:"Hollandscheveld",property:"http://example.nl/Plaatsnaam"},{source:"http://example.nl/bedrijf/DUO",target:"http://example.nl/adres/Adres2",property:"http://example.nl/Heeft adres"},{source:"http://example.nl/adres/Adres2",target:"9722TB",property:"http://example.nl/Postcode"},{source:"http://example.nl/adres/Adres2",target:"12",property:"http://example.nl/Nummer"},{source:"http://example.nl/adres/Adres2",target:"Kempkensberg",property:"http://example.nl/Straatnaam"},{source:"http://example.nl/adres/Adres2",target:"Groningen",property:"http://example.nl/Plaatsnaam"},{source:"http://example.nl/persoon/Wisse",target:"http://example.nl/adres/Adres2",property:"http://example.nl/Werkadres"}]).sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:e.target>t.target?1:e.target<t.target?-1:0}));for(var r=0;r<a.length;r++)0!==r&&a[r].source===a[r-1].source&&a[r].target===a[r-1].target?a[r].linknum=a[r-1].linknum+1:a[r].linknum=1;return a;case"FETCH_SPARQL_SUCCESS":return a=[],t.result.data.results.bindings.forEach((function(e){var r=e[t.result.data.head.vars[0]],n=e[t.result.data.head.vars[2]],l=e[t.result.data.head.vars[1]],o={};o.source=r.value,o.target=n.value,o.property=l.value,a.push(o),a.sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:e.target>t.target?1:e.target<t.target?-1:0}));for(var s=0;s<a.length;s++)0!==s&&a[s].source===a[s-1].source&&a[s].target===a[s-1].target?a[s].linknum=a[s-1].linknum+1:a[s].linknum=1})),a;case"FETCH_SPARQL_ABOUTSUBJECT_SUCCESS":return a=[],t.result.data.results.bindings.forEach((function(e){var r={};r.source=t.result.config.subject,r.target=e[t.result.data.head.vars[1]].value,r.property=e[t.result.data.head.vars[0]].value,e[t.result.data.head.vars[0]].value.split("/")[2]===t.result.config.subject.split("/")[2]&&(!e[t.result.data.head.vars[1]]["xml:lang"]||"en"!==e[t.result.data.head.vars[1]]["xml:lang"]&&"nl"!==e[t.result.data.head.vars[1]]["xml:lang"]||a.push(r),e[t.result.data.head.vars[1]]["xml:lang"]||a.push(r)),a.sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:e.target>t.target?1:e.target<t.target?-1:0}));for(var n=0;n<a.length;n++)0!==n&&a[n].source===a[n-1].source&&a[n].target===a[n-1].target?a[n].linknum=a[n-1].linknum+1:a[n].linknum=1})),a;case"FETCH_ABOUT_CLICKED_NODE_SUCCESS":return a=e,t.result.data.results.bindings.forEach((function(e){var r={};r.source=t.result.config.subject,r.target=e[t.result.data.head.vars[1]].value,r.property=e[t.result.data.head.vars[0]].value,e[t.result.data.head.vars[0]].value.split("/")[2]===t.result.config.subject.split("/")[2]&&(!e[t.result.data.head.vars[1]]["xml:lang"]||"en"!==e[t.result.data.head.vars[1]]["xml:lang"]&&"nl"!==e[t.result.data.head.vars[1]]["xml:lang"]||a.push(r),e[t.result.data.head.vars[1]]["xml:lang"]||a.push(r)),a.sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:e.target>t.target?1:e.target<t.target?-1:0}));for(var n=0;n<a.length;n++)0!==n&&a[n].source===a[n-1].source&&a[n].target===a[n-1].target?a[n].linknum=a[n-1].linknum+1:a[n].linknum=1})),a;default:return e}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchAll:"Uit",currentDatasource:"https://lod.onderwijsregistratie.nl/rio/sparql",datasources:[{name:"Onderwijsregistratie",endpoint:"https://lod.onderwijsregistratie.nl/rio/sparql",active:!0},{name:"dbpedia",endpoint:"http://dbpedia.org/sparql",active:!0},{name:"Basisregistratie adressen en gebouwen (alle voorkomens)",endpoint:"https://bag.basisregistraties.overheid.nl/sparql",active:!0},{name:"Basisregistratie adressen en gebouwen (nu geldige voorkomens)",endpoint:"https://bag.basisregistraties.overheid.nl/sparql/now",active:!0},{name:"Basisregistratie Kadaster - Digitale Kadastrale Kaart",endpoint:"https://brk.basisregistraties.overheid.nl/sparql",active:!0},{name:"Basisregitratie Topografie - Top10NL",endpoint:"https://brt.basisregistraties.overheid.nl/sparql",active:!0},{name:"Cultuurhistorische objecten",endpoint:"https://linkeddata.cultureelerfgoed.nl/sparql",active:!0}]},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"SET_CURRENT_DATASOURCE":return a.currentDatasource=t.datasource.endpoint,a;case"TOGGLE_SEARCHALL":return"Aan"===e.searchAll&&(a.searchAll="Uit"),"Uit"===e.searchAll&&(a.searchAll="Aan"),a;case"TOGGLE_BLOCK_DATASOURCE":var r=e.datasources.indexOf(t.datasource);return a.datasources[r].active=!a.datasources[r].active,a;case"DELETE_DATASOURCE":t.datasource.name,r=e.datasources.indexOf(t.datasource);return a.datasources.splice(r,1),a;case"ADD_DATASOURCE":var n=t.name,l=t.endpoint;return a.datasources.push({name:n,endpoint:l,active:!0}),a;default:return e}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{linkDistance:{min:0,max:400,value:400},forceCharge:{min:0,max:3e3,value:3e3}},t=arguments.length>1?arguments[1]:void 0;Object.assign({},e);switch(t.type){case"SET_FORCEGRAPH_SETTINGS":return t.settings;default:return e}}var k=a(58),A=a(27);function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type.endsWith("_REQUEST")){var a=t.type.replace("_REQUEST",""),r=e[a]||0;return Object(A.a)(Object(A.a)({},e),{},Object(k.a)({},a,r+1))}if(t.type.endsWith("_SUCCESS")||t.type.endsWith("_FAILURE")){var n=t.type.replace("_SUCCESS","").replace("_FAILURE",""),l=e[n]||0;return Object(A.a)(Object(A.a)({},e),{},Object(k.a)({},n,l-1))}return e}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type.endsWith("_FAILURE")?t.error:t.type.endsWith("_REQUEST")?{}:e}var _=function(e){return Object(u.c)({data:S,nodes:j,links:C,datasource:O,forcegraphsettings:x,loading:T,error:L,router:Object(s.b)(e)})},w=Object(u.d)(h,b.instrument(),Object(m.persistState)(function(){var e=window.location.href.match(/[?&]debug=([^&#])\b/);return e&&e.length>0?e[1]:null}()));var D=a(7),U=a(8),R=a(10),N=a(9),B=a(30),H=a(448),q=a(416),F=a(447),Q=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return n.a.createElement(H.a,{id:"main-navigation",expand:"lg"},n.a.createElement(q.a,null,n.a.createElement(H.a.Brand,{as:B.a,activeClassName:"notactive",to:"/"},n.a.createElement("img",{width:"100",height:"100",alt:"Logo"}),n.a.createElement("b",null,"React SPARQL Browser")),n.a.createElement(H.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),n.a.createElement(H.a.Collapse,{id:"responsive-navbar-nav"},n.a.createElement(F.a.Link,{as:B.a,exact:!0,activeClassName:"active",to:"/"},"Home"),n.a.createElement(F.a.Link,{as:B.a,activeClassName:"active",to:"/sparql-react-browser/contact"},"Contact"),n.a.createElement(F.a.Link,{as:B.a,activeClassName:"active",to:"/sparql-react-browser/graph/examples"},"Graph"))))}}]),a}(n.a.Component),I=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"Header"},n.a.createElement("header",null,n.a.createElement(Q,null)))}}]),a}(n.a.Component),P=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return n.a.createElement("footer",{id:"Footer"},n.a.createElement("p",null,"\xa9 React-SPARQL-Browser ",(new Date).getYear()+1900))}}]),a}(n.a.Component),G=a(12),W=a(164),M=a(42),K=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Home"},n.a.createElement(W.a,null,n.a.createElement("h1",null,"Sparql-React-Browser"),n.a.createElement("p",null,"Welkom bij de Sparql-React-Browser. Via deze applicatie kunt u open onderwijsdata opvragen en visualiseren. Met onderstaande zoekmogelijkheid komt u snel bij de data die u zoekt. Data wordt weergegeven in een graph JSON. Het gaat om open informatie."),n.a.createElement("p",null,n.a.createElement(M.a,{variant:"primary",onClick:function(){return e.props.history.push("/sparql-react-browser/graph/examples")}},"Probeer uit!"))))}}]),a}(n.a.Component),V=a(19),z=a(6),J=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).drag=function(t){return z.a().on("start",(function(t){z.g("#forcegraph").selectAll(".tooltip").remove(),e.props.rs(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=z.b.x,e.fy=z.b.y})).on("end",(function(e){e.fx=null,e.fy=null}))},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){}},{key:"renderNodeEllipse",value:function(){var e=this,t=z.g(".nodesellipse").selectAll("ellipse").data(this.props.nodesList).call(this.drag(this.simulation));t.enter().append("ellipse").on("click",(function(t){e.props.ssn(t.id),e.props.rsn(),"uri"===t.type&&e.props.facn(t.id,e.props.datasource)})).on("mouseover",(function(e){console.log("mouseover"),console.log(e),console.log(this)})).on("mouseout",(function(e){console.log("mouseout")})).on("mousedown",(function(e){console.log("mousedown")})).on("mouseup",(function(e){console.log("mouseup")})).attr("rx",(function(e){return 30})).attr("ry",(function(e){return 30})).attr("class","ellipse").classed("uri",(function(e){return"uri"===e.type})).classed("literal",(function(e){return"literal"===e.type||"typed-literal"===e.type})).merge(t).attr("transform",(function(e){return"translate("+e.x+","+e.y+")"})),t.exit().remove()}},{key:"renderNodeText",value:function(){var e=z.g(".nodestext").selectAll("text").data(this.props.nodesList).call(this.drag(this.simulation));e.enter().append("text").on("click",(function(e){z.g("#forcegraph").append("div").attr("class","tooltip dropdown").style("opacity",0).style("left",z.b.pageX+28+"px").style("top",z.b.pageY-28+"px"),z.g("#forcegraph").selectAll(".tooltip").append("button").attr("class","btn btn-secondary dropdown-toggle").attr("type","button").attr("id","dropdownMenuButton").attr("data-toggle","dropdown").attr("aria-haspopup","true").attr("aria-expanded","false").text(e.id);var t=z.g("#forcegraph").selectAll(".tooltip").append("div").attr("class","dropdown-menu").attr("aria-labelledby","dropdownMenuButton");"uri"===e.type&&t.append("a").attr("class","dropdown-item").attr("href",e.id).text("go to uri"),t.append("a").attr("class","dropdown-item"),t.append("a").attr("class","dropdown-item"),z.g(".tooltip").transition().duration(200).style("opacity",.9).style("left",z.b.pageX+28+"px").style("top",z.b.pageY-28+"px")})).on("mouseover",(function(e){console.log("mouseover")})).on("mouseout",(function(e){console.log("mouseout")})).on("mousedown",(function(e){console.log("mousedown")})).on("mouseup",(function(e){console.log("mouseup")})).text((function(e){if("uri"===e.type){var t=e.id.split("/");return t.splice(0,3),t=t.join("/"),console.log("nodeURL: "+t),t}return e.id})).merge(e).attr("transform",(function(e){return"translate("+e.x+","+e.y+")"})),e.exit().remove()}},{key:"render",value:function(){return this.renderNodeEllipse(),this.renderNodeText(),null}}]),a}(n.a.Component),Y=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).drag=function(t){return z.a().on("start",(function(t){z.g("#forcegraph").selectAll(".tooltip").remove(),e.props.action(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=z.b.x,e.fy=z.b.y})).on("end",(function(e){e.fx=null,e.fy=null}))},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){}},{key:"getAllLinkPropertys",value:function(){var e=[];return this.props.linksList.forEach((function(t){e.push(t.property.replace(/\s/g,""))})),e}},{key:"render",value:function(){var e;return(e=z.g(".links").selectAll("path").data(this.props.linksList)).enter().append("path").attr("class",(function(e){return"link"})).attr("class",(function(e){return"link "+e.property})).attr("id",(function(e,t){return"linkId_"+t})).attr("marker-end",(function(e){return"url(#"+e.property.replace(/\s/g,"")+")"})).merge(e).attr("d",(function(e){e.target.x,e.source.x,e.target.y,e.source.y;if(e.linknum)var t=150*e.linknum-150;else t=0;return"M"+e.source.x+","+e.source.y+"A"+t+","+t+" 0 0,1 "+e.target.x+","+e.target.y})),e.exit().remove(),(e=z.g(".linkstext").selectAll("text").data(this.props.linksList)).enter().append("text").on("click",(function(e){window.open(e.id)})).attr("x","200").attr("class","linklabel").append("textPath").attr("xlink:href",(function(e,t){return"#linkId_"+t})).text((function(e){var t=e.property.split("/");return t.splice(0,3),t=t.join("/")})),e.exit().remove(),(e=z.g(".defs").selectAll("marker").data(this.getAllLinkPropertys())).enter().append("marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5"),e.exit().remove(),null}}]),a}(n.a.Component),X=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(e){var r;return Object(D.a)(this,a),(r=t.call(this,e)).state={nodes:e.nodes,links:e.links},r.rs=r.restartSimulation.bind(Object(V.a)(r)),r.ssn=r.props.setSelectedNode.bind(Object(V.a)(r)),r.rsn=r.props.removeSelectedNode.bind(Object(V.a)(r)),r.facn=r.props.fetchAboutClickedNode.bind(Object(V.a)(r)),r}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("componentDidMount");var t=document.getElementById("forcegraph");window.addEventListener("resize",(function(){e.removeSVG(),e.createSVG(t.offsetWidth,t.offsetHeight),e.restartSimulation()})),this.createSVG(t.offsetWidth,t.offsetHeight),this.forceLink=z.d().links(this.props.links).distance(400).id((function(e){return e.id})),this.forceCenter=z.c(1*t.offsetWidth/2,1*t.offsetHeight/2),this.forceCharge=z.e().strength(-3e3),this.simulation=z.f(this.props.nodes.nodesList).force("center",this.forceCenter).force("charge",this.forceCharge).force("link",this.forceLink),this.simulation.on("tick",(function(){console.log("tick"),e.setState({})}))}},{key:"componentDidUpdate",value:function(e){this.simulation.nodes(this.props.nodes.nodesList),this.simulation.force("link").links(this.props.links),this.props.data.id!==e.data.id&&(z.g(".links").selectAll("path").remove(),z.g(".nodesellipse").selectAll("ellipse").remove(),z.g(".nodestext").selectAll("text").remove(),z.g(".linkstext").selectAll("text").remove(),z.g(".defs").selectAll("path").remove(),z.g(".tooltips").selectAll("circle").remove(),console.log("restartSimulation"),this.restartSimulation())}},{key:"componentWillUnmount",value:function(){this.simulation.stop()}},{key:"createSVG",value:function(e,t){console.log("createsvg");var a=z.h().scaleExtent([.5,10]).on("zoom",(function(){var e=z.b.transform;r.attr("transform",e)})),r=z.g("#forcegraph").append("svg").attr("class","forcegraph").style("width",1*e).style("height",1*t).style("border","1px solid black").call(a).append("g");r.append("g").attr("class","links"),r.append("g").attr("class","nodesellipse"),r.append("g").attr("class","nodestext"),r.append("g").attr("class","linkstext"),r.append("defs").attr("class","defs"),r.append("g").attr("class","tooltips")}},{key:"removeSVG",value:function(){z.g("#forcegraph").selectAll("svg").remove()}},{key:"restartSimulation",value:function(){this.simulation.alpha(1).restart()}},{key:"render",value:function(){return n.a.createElement("div",{id:"forcegraph"},n.a.createElement(J,{nodesList:this.props.nodes.nodesList,datasource:this.props.datasource,rs:this.rs,ssn:this.ssn,rsn:this.rsn,facn:this.facn}),n.a.createElement(Y,{linksList:this.props.links,action:this.rs,ssn:this.ssn}))}}]),a}(n.a.Component);X.defaultProps={width:600,height:600,forceStrength:-10};var Z,$=X,ee=(n.a.Component,function(e){return{type:"SET_CURRENT_DATASOURCE",datasource:e}}),te=function(){return{type:"TOGGLE_SEARCHALL"}},ae=function(e){return{type:"TOGGLE_BLOCK_DATASOURCE",datasource:e}},re=function(e){return{type:"DELETE_DATASOURCE",datasource:e}},ne=function(e,t){return{type:"ADD_DATASOURCE",name:e,endpoint:t}},le=a(169),oe=a(172),se=function(e){var t=e.types,a=e.promise,r=Object(oe.a)(e,["types","promise"]),n=Object(le.a)(t,3),l=n[0],o=n[1],s=n[2];return function(e){return e(Object(A.a)(Object(A.a)({},r),{},{type:l})),a.then((function(t){if(t.error||t.errors)throw new Error(t.error);return e(Object(A.a)(Object(A.a)({},r),{},{type:o,result:t})),t})).catch((function(t){e(Object(A.a)(Object(A.a)({},r),{},{type:s,error:t}))}))}},ce=a(60),ue=a.n(ce),ie=a(150),pe=function(){return se({types:["FETCH_TEST_REQUEST","FETCH_TEST_SUCCESS","FETCH_TEST_FAILURE"],promise:fetch("https://www.anapioficeandfire.com/api/books").then((function(e){return e.json()})).catch((function(e){console.log(e)}))})},de=function(e,t){return se({types:["FETCH_SPARQL_REQUEST","FETCH_SPARQL_SUCCESS","FETCH_SPARQL_FAILURE"],promise:ie({method:"post",url:t,data:ue.a.stringify({action:"exec",queryLn:"SPARQL",ref:"text",query:e}),headers:{Accept:"application/sparql-results+json"}})})},he=function(e,t,a){return se({types:["FETCH_SPARQL_ABOUTSUBJECT_REQUEST","FETCH_SPARQL_ABOUTSUBJECT_SUCCESS","FETCH_SPARQL_ABOUTSUBJECT_FAILURE"],promise:ie({method:"post",url:a,data:ue.a.stringify({action:"exec",queryLn:"SPARQL",ref:"text",query:e}),headers:{Accept:"application/sparql-results+json"},subject:t})})},me=a(150),ge=function(e){return{type:"SET_SELECTED_NODE",node:e}},ve=function(e){return{type:"REMOVE_SELECTED_NODE"}},fe=function(e,t){return se({types:["FETCH_ABOUT_CLICKED_NODE_REQUEST","FETCH_ABOUT_CLICKED_NODE_SUCCESS","FETCH_ABOUT_CLICKED_NODE_FAILURE"],promise:me({method:"post",url:t.currentDatasource,data:ue.a.stringify({action:"exec",queryLn:"SPARQL",ref:"text",query:"SELECT * WHERE { <"+e+"> ?property ?object }limit 200"}),headers:{Accept:"application/sparql-results+json"},subject:e})})},Ee=Object(y.connect)((function(e,t){return{nodes:e.nodes,datasource:e.datasource,links:e.links,data:e.data,history:e.router}}),(function(e,t){return Object(u.b)({setSelectedNode:ge,removeSelectedNode:ve,fetchAboutClickedNode:fe},e)}))($),be=a(34),ye=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(e){var r;return Object(D.a)(this,a),(r=t.call(this)).state={query:"SELECT * WHERE{?sub ?pred ?obj .}LIMIT 10",subject:"http://lod.onderwijsregistratie.nl/rio/id/Onderwijsbestuur/100B490"},r.handleQueryChange=r.handleQueryChange.bind(Object(V.a)(r)),r.handleQuerySubmit=r.handleQuerySubmit.bind(Object(V.a)(r)),r.handleSubjectChange=r.handleSubjectChange.bind(Object(V.a)(r)),r.handleSubjectDetailsQuerySubmit=r.handleSubjectDetailsQuerySubmit.bind(Object(V.a)(r)),r}return Object(U.a)(a,[{key:"handleQueryChange",value:function(e){console.log(e.target.value),this.setState({query:e.target.value})}},{key:"handleQuerySubmit",value:function(e){this.props.fetchSparql(this.state.query,this.props.datasource.currentDatasource),e.preventDefault()}},{key:"handleSubjectChange",value:function(e){console.log(e.target.value),this.setState({subject:e.target.value})}},{key:"handleSubjectDetailsQuerySubmit",value:function(e){var t=this.state.subject,a="SELECT * WHERE { <"+t+"> ?property ?object }limit 200";this.props.fetchAboutSubject(a,t,this.props.datasource.currentDatasource),e.preventDefault()}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{id:"queryform"},n.a.createElement(be.a,{onSubmit:this.handleQuerySubmit},n.a.createElement(be.a.Group,{controlId:"QueryInput"},n.a.createElement(be.a.Label,null,"Query input:"),n.a.createElement(be.a.Control,{as:"textarea",rows:"5",placeholder:"Input query",value:this.state.query,onChange:this.handleQueryChange})),n.a.createElement(M.a,{variant:"primary",type:"submit"},"Submit"))),n.a.createElement("div",{id:"querysubjectdetails form"},n.a.createElement(be.a,{onSubmit:this.handleSubjectDetailsQuerySubmit},n.a.createElement(be.a.Group,{controlId:"SubjectInput"},n.a.createElement(be.a.Label,null,"Query input:"),n.a.createElement(be.a.Control,{as:"textarea",rows:"5",placeholder:"Input subject",value:this.state.subject,onChange:this.handleSubjectChange})),n.a.createElement(M.a,{variant:"primary",type:"submit"},"Submit"))))}}]),a}(n.a.Component),Se=a(17),je=Object(y.connect)((function(e,t){return{datasource:e.datasource}}),(function(e,t){return Object(u.b)({fetchTest:pe,fetchSparql:de,fetchAboutSubject:he,push:Se.d},e)}))(ye),Ce=a(446),Oe=a(442),xe=a(165),ke=a(443),Ae=a(445),Te=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).state={show:!1,name:"",endpoint:""},e.handleNameChange=e.handleNameChange.bind(Object(V.a)(e)),e.handleEndpointChange=e.handleEndpointChange.bind(Object(V.a)(e)),e}return Object(U.a)(a,[{key:"handleModal",value:function(){this.setState({show:!this.state.show,name:"",endpoint:""})}},{key:"handleNameChange",value:function(e){console.log(e.target.value),this.setState({name:e.target.value})}},{key:"handleEndpointChange",value:function(e){console.log(e.target.value),this.setState({endpoint:e.target.value})}},{key:"handleSubmitDatasource",value:function(){console.log("submit datasource"),this.props.addDatasource(this.state.name,this.state.endpoint),this.setState({show:!this.state.show})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(M.a,{variant:"primary",onClick:function(){e.handleModal()}},"Databron Toevoegen"),n.a.createElement(Ae.a,{show:this.state.show,onHide:function(){return e.handleModal()}},n.a.createElement(Ae.a.Header,{closeButton:!0},n.a.createElement(Ae.a.Title,null,"Databron Toevoegen: ")),n.a.createElement(Ae.a.Body,null,n.a.createElement(be.a,{onSubmit:function(){return e.handleSubmitDatasource()}},n.a.createElement(be.a.Group,{controlId:"formName"},n.a.createElement(be.a.Label,null,"Naam:"),n.a.createElement(be.a.Control,{type:"text",placeholder:"Naam",onChange:this.handleNameChange})),n.a.createElement(be.a.Group,{controlId:"formEndpoint"},n.a.createElement(be.a.Label,null,"Endpoint:"),n.a.createElement(be.a.Control,{type:"text",placeholder:"Endpoint",onChange:this.handleEndpointChange})))),n.a.createElement(Ae.a.Footer,null,n.a.createElement(M.a,{variant:"secondary",onClick:function(){e.handleModal()}},"Sluiten"),n.a.createElement(M.a,{variant:"primary",onClick:function(){e.handleSubmitDatasource()}},"Opslaan"))))}}]),a}(n.a.Component),Le=Object(y.connect)((function(e,t){return{}}),(function(e,t){return Object(u.b)({addDatasource:ne},e)}))(Te),_e=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(e){return Object(D.a)(this,a),t.call(this)}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"Datasource"},n.a.createElement(Oe.a,null,n.a.createElement(xe.a,{sm:3},n.a.createElement(M.a,{className:"w-100",onClick:function(){return e.props.toggleSearchAll()}},"Doorzoek alle bronnen: ",this.props.datasource.searchAll)),n.a.createElement(xe.a,{sm:9},function(){if("Uit"===e.props.datasource.searchAll)return n.a.createElement(Ce.a,{className:"w-100"},n.a.createElement(Ce.a.Toggle,null,"Geselecteerde bron: ",e.props.datasource.currentDatasource),n.a.createElement(Ce.a.Menu,null,e.props.datasource.datasources.map((function(t,a){return n.a.createElement(Ce.a.Item,{key:a},n.a.createElement(Oe.a,null,n.a.createElement(xe.a,null,n.a.createElement("div",{onClick:function(){return e.props.setCurrentDatasource(t)}},t.name)),n.a.createElement(xe.a,null,n.a.createElement(ke.a,{className:"float-right"},function(t){return t.active?n.a.createElement(M.a,{onClick:function(){return e.props.toggleBlockDatasource(t)}},"Block "):n.a.createElement(M.a,{onClick:function(){return e.props.toggleBlockDatasource(t)}},"Unblock ")}(t),n.a.createElement(M.a,{onClick:function(){return e.props.deleteDatasource(t)}},"Remove")))))})),n.a.createElement(Le,null)))}())))}}]),a}(n.a.Component),we=Object(y.connect)((function(e,t){return{datasource:e.datasource}}),(function(e,t){return Object(u.b)({setCurrentDatasource:ee,toggleSearchAll:te,toggleBlockDatasource:ae,deleteDatasource:re},e)}))(_e),De=a(444),Ue=a(449),Re=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(e){var r;return Object(D.a)(this,a),(r=t.call(this)).state={query:"SELECT * WHERE{?sub ?pred ?obj .}LIMIT 10",subject:"http://lod.onderwijsregistratie.nl/rio/id/Onderwijsbestuur/100B490"},r}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(De.a,null,n.a.createElement(Ue.a,null,n.a.createElement(Ue.a.Body,null,n.a.createElement(Ue.a.Title,null,"Persoon & relevante adressen"),n.a.createElement(Ue.a.Text,null,"Dit voorbeeld laat zien hoe de applicatie een persoon visualiseerd met de bijbehorende relevante adressen")),n.a.createElement(Ue.a.Footer,null,n.a.createElement(M.a,{onClick:function(){return e.props.fetchTest()}},"Bekijk voorbeeld"))),n.a.createElement(Ue.a,null,n.a.createElement(Ue.a.Body,null,n.a.createElement(Ue.a.Title,null,"Voorbeeld 2"),n.a.createElement(Ue.a.Text,null,"Indien mogelijk iets dat demonstreert dat dat vanaf meerdere bronnen afkomstig kan zijn")),n.a.createElement(Ue.a.Footer,null,n.a.createElement(M.a,{onClick:function(){return e.props.fetchTest()}},"Bekijk voorbeeld"))),n.a.createElement(Ue.a,null,n.a.createElement(Ue.a.Body,null,n.a.createElement(Ue.a.Title,null,"Voorbeeld 3"),n.a.createElement(Ue.a.Text,null,"Dit voorbeeld laat zien hoe de applicatie een persoon visualiseerd met de bijbehorende relevante adressen")),n.a.createElement(Ue.a.Footer,null,n.a.createElement(M.a,{onClick:function(){return e.props.fetchTest()}},"Bekijk voorbeeld")))))}}]),a}(n.a.Component),Ne=Object(y.connect)((function(e,t){return{datasource:e.datasource}}),(function(e,t){return Object(u.b)({fetchTest:pe,fetchSparql:de,fetchAboutSubject:he,push:Se.d},e)}))(Re),Be=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return console.log(this.props.match.path),n.a.createElement("div",{className:"Graph"},n.a.createElement("h2",null,"Graph"),n.a.createElement(F.a,{fill:!0,variant:"tabs",defaultActiveKey:"/sparql-react-browser/graph/examples"},n.a.createElement(F.a.Item,null,n.a.createElement(F.a.Link,{as:B.a,activeClassName:"active",to:"/sparql-react-browser/graph/examples"},"Voorbeelden")),n.a.createElement(F.a.Item,null,n.a.createElement(F.a.Link,{as:B.a,activeClassName:"active",to:"/sparql-react-browser/graph/queryform"},"Query"))),n.a.createElement(we,null),n.a.createElement(G.c,null,n.a.createElement(G.a,{exact:!0,path:"".concat(this.props.match.path,"/examples"),component:Ne}),n.a.createElement(G.a,{exact:!0,path:"".concat(this.props.match.path,"/queryform"),component:je})),n.a.createElement(Ee,null))}}]),a}(n.a.Component),He=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).onSubmit=function(){e.props.history.push("/")},e}return Object(U.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"Contact"},n.a.createElement("h2",null,"Contact form"),n.a.createElement("form",null,n.a.createElement("input",{placeholder:"name",type:"name"}),n.a.createElement("input",{placeholder:"email",type:"email"}),n.a.createElement("button",{onClick:this.onSubmit},"Submit")))}}]),a}(n.a.Component),qe=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"NotFound"},n.a.createElement("h1",null,"Not Found..."),n.a.createElement("button",{onClick:function(){return e.props.history.push("/home")}},"Go home"))}}]),a}(n.a.Component),Fe=function(e){Object(R.a)(a,e);var t=Object(N.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return n.a.createElement(q.a,{id:"PageContent"},n.a.createElement("div",null,n.a.createElement(G.c,null,n.a.createElement(G.a,{exact:!0,path:"/",component:K}),n.a.createElement(G.a,{exact:!0,path:"/sparql-react-browser/",component:K}),n.a.createElement(G.a,{exact:!0,path:"/sparql-react-browser/home",component:K}),n.a.createElement(G.a,{path:"/sparql-react-browser/graph",component:Be}),n.a.createElement(G.a,{path:"/sparql-react-browser/contact",component:He}),n.a.createElement(G.a,{component:qe}))))}}]),a}(n.a.Component),Qe=function(e){return e.isLoading&&n.a.createElement("span",null,"Loading...")},Ie=Object(y.connect)((function(e,t){var a=e.loading;return{isLoading:Object.keys(a).reduce((function(e,t){return!0===e||a[t]>0}),!1)}}))(Qe),Pe=function(e){var t=e.message;return t?n.a.createElement("span",{style:{color:"red"}},"Error: ",t):null},Ge=Object(y.connect)((function(e,t){return{message:e.error&&e.error.message}}))(Pe),We=Object(u.e)(_(d),Z,w);console.log("initializing store: ",We.getState());var Me=function(){return n.a.createElement(y.Provider,{store:We},n.a.createElement("div",{className:"App"},n.a.createElement(s.a,{history:d},n.a.createElement(I,null),n.a.createElement(Fe,null),n.a.createElement(Ie,null),n.a.createElement(Ge,null),n.a.createElement(P,null)),!1))};o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Me,null)),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.b0e09ae0.chunk.js.map