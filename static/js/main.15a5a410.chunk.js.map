{"version":3,"sources":["redux/store/middleware.js","containers/DevTools.jsx","redux/reducers/data.js","redux/actionTypes.js","redux/reducers/nodes.js","redux/reducers/links.js","redux/reducers/datasource.js","redux/reducers/loading.js","redux/reducers/error.js","redux/reducers/index.js","redux/store/index.js","components/Nav.js","components/Header.js","components/Footer.js","pages/Home.js","components/ForceGraph.js","containers/ConnectedForceGraph.js","components/ForceGraphOld.js","components/QueryForm.js","redux/actions/datasource.js","redux/actions/utils.js","redux/actions/sparql.js","containers/ConnectedQueryForm.js","components/AddDataSource.js","containers/ConnectedAddDatasource.js","components/DataSource.js","containers/ConnectedDataSource.js","components/Examples.js","containers/ConnectedExamples.js","pages/Graph.js","pages/Contact.js","pages/NotFound.js","components/PageContent.js","components/Loading.js","containers/ConnectedLoading.js","components/Error.js","containers/ConnectedError.js","App.js","index.js"],"names":["history","createBrowserHistory","middleware","applyMiddleware","thunkMiddleware","routerMiddleware","DevTools","createDevTools","toggleVisibilityKey","changePositionKey","defaultIsVisible","theme","dataReducer","state","id","action","NewState","Object","assign","type","nodeReducer","links","source","value","target","property","templist","forEach","link","includes","push","console","log","result","config","url","vars","data","head","results","bindings","element","urlParams","subject","split","splice","join","subjectURL","objParam","linkReducer","sort","a","b","i","length","linknum","datasourceReducer","searchAll","currentDatasource","datasources","name","endpoint","active","newState","datasource","index","indexOf","loadingReducer","endsWith","requestName","replace","counter","errorReducer","error","appReducer","combineReducers","nodes","nodesReducer","linkesReducer","loading","router","connectRouter","enhancer","compose","instrument","persistState","matches","window","location","href","match","getSessionKey","Navigation","className","Navbar","expand","fixed","Brand","as","NavLink","activeClassName","to","width","height","alt","Toggle","aria-controls","Collapse","Nav","Link","exact","React","Component","Header","Footer","Container","Row","Col","sm","Date","getYear","Home","Jumbotron","Button","variant","onClick","props","ForceGraph","drag","simulation","d3","on","d","alphaTarget","restart","fx","x","fy","y","document","getElementById","addEventListener","removeSVG","createSVG","offsetWidth","offsetHeight","restartSimulation","this","forceLink","distance","forceCenter","forceCharge","strength","force","setState","prevprops","selectAll","remove","stop","zoom","scaleExtent","currentTransform","transform","svg","attr","append","style","call","alpha","selection","enter","merge","dr","exit","open","classed","text","nodeURL","propertyURL","getAllLinkPropertys","String","linkpropertys","nodesellipse","nodestext","linktext","linkmarker","map","node","defaultProps","forceStrength","initialState","Circle","r","cx","cy","fill","key","alert","ConnectedForceGraph","connect","dispatch","bindActionCreators","QueryForm","query","handleQueryChange","bind","handleQuerySubmit","handleSubjectChange","handleSubjectDetailsQuerySubmit","event","fetchSparql","preventDefault","uri","fetchAboutSubject","Form","onSubmit","Group","controlId","Label","Control","rows","placeholder","onChange","setCurrentDatasource","toggleSearchAll","toggleBlockDatasource","deleteDatasource","addDatasource","thunkCreator","types","promise","rest","REQUESTED","RESOLVED","REJECTED","then","errors","Error","catch","axios","require","fetchTest","fetch","response","json","method","qs","stringify","queryLn","ref","headers","Accept","ConnectedQueryForm","AddDatasource","show","handleNameChange","handleEndpointChange","handleModal","Modal","onHide","closeButton","Title","Body","handleSubmitDatasource","ConnectedAddDatasource","DataSourceDropdown","Dropdown","Menu","item","Item","ButtonGroup","renderBlockButton","renderDatasourceDropdown","ConnectedDataSource","DataSource","Example","CardDeck","Card","Text","ConnectedExamples","Examples","Graph","path","defaultActiveKey","component","Contact","NotFound","PageContent","Notfound","Loading","isLoading","ConnectedLoading","keys","reduce","message","color","ConnectedError","store","createStore","getState","App","process","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.15a5a410.chunk.js","sourcesContent":["import thunkMiddleware from 'redux-thunk'\r\n\r\nimport { applyMiddleware } from 'redux'\r\nimport { routerMiddleware } from 'connected-react-router'\r\n\r\nimport { createBrowserHistory } from 'history'\r\nexport const history = createBrowserHistory()\r\n\r\nconst middleware = applyMiddleware(\r\n  thunkMiddleware,\r\n  routerMiddleware(history)\r\n)\r\n\r\nexport default middleware","import React from 'react'\r\n\r\nimport { createDevTools } from 'redux-devtools'\r\n\r\nimport LogMonitor from 'redux-devtools-log-monitor'\r\nimport DockMonitor from 'redux-devtools-dock-monitor'\r\n\r\nconst DevTools = createDevTools(\r\n  <DockMonitor\r\n    toggleVisibilityKey='ctrl-h'\r\n    changePositionKey='ctrl-q'\r\n    defaultIsVisible={true}\r\n  >\r\n    <LogMonitor theme='tomorrow' />\r\n  </DockMonitor>\r\n)\r\n\r\nexport default DevTools","import { FETCH_TEST_SUCCESS, FETCH_SPARQL_SUCCESS, FETCH_SPARQL_ABOUTSUBJECT_SUCCESS } from '../actionTypes'\r\n\r\nexport default function dataReducer(state = {\r\n  id: 1,\r\n\r\n},\r\n  action) {\r\n  let NewState = Object.assign({}, state);\r\n  switch (action.type) {\r\n    case FETCH_TEST_SUCCESS: {\r\n      NewState.id = state.id + 1\r\n      return NewState\r\n    }\r\n    case FETCH_SPARQL_SUCCESS: {\r\n      NewState.id = state.id + 1\r\n      return NewState\r\n    }\r\n    case FETCH_SPARQL_ABOUTSUBJECT_SUCCESS: {\r\n      NewState.id = state.id + 1\r\n      return NewState\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}","\r\n//datasource\r\nexport const SET_CURRENT_DATASOURCE = 'SET_CURRENT_DATASOURCE';\r\nexport const TOGGLE_SEARCHALL = 'TOGGLE_SEARCHALL'\r\nexport const TOGGLE_BLOCK_DATASOURCE = 'TOGGLE_BLOCK_DATASOURCE'\r\nexport const DELETE_DATASOURCE = 'DELETE_DATASOURCE'\r\nexport const ADD_DATASOURCE = 'ADD_DATASOURCE'\r\n\r\n\r\n//fetch test\r\nexport const FETCH_TEST_REQUEST = 'FETCH_TEST_REQUEST'\r\nexport const FETCH_TEST_SUCCESS = 'FETCH_TEST_SUCCESS'\r\nexport const FETCH_TEST_FAILURE = 'FETCH_TEST_FAILURE'\r\n\r\n//fetch sparql\r\nexport const FETCH_SPARQL_REQUEST = 'FETCH_SPARQL_REQUEST'\r\nexport const FETCH_SPARQL_SUCCESS = 'FETCH_SPARQL_SUCCESS'\r\nexport const FETCH_SPARQL_FAILURE = 'FETCH_SPARQL_FAILURE'\r\n\r\n//fetch sparql\r\nexport const FETCH_SPARQL_ABOUTSUBJECT_REQUEST = 'FETCH_SPARQL_ABOUTSUBJECT_REQUEST'\r\nexport const FETCH_SPARQL_ABOUTSUBJECT_SUCCESS = 'FETCH_SPARQL_ABOUTSUBJECT_SUCCESS'\r\nexport const FETCH_SPARQL_ABOUTSUBJECT_FAILURE = 'FETCH_SPARQL_ABOUTSUBJECT_FAILURE'\r\n\r\n","import { FETCH_TEST_SUCCESS, FETCH_SPARQL_SUCCESS, FETCH_SPARQL_ABOUTSUBJECT_SUCCESS } from '../actionTypes'\r\n\r\nexport default function nodeReducer(state = [\r\n  { id: 'Subject', type: 'literal' },\r\n  { id: 'Object', type: 'literal' },\r\n], action) {\r\n  let NewState = Object.assign({}, state);\r\n  switch (action.type) {\r\n    case FETCH_TEST_SUCCESS: {\r\n\r\n      var links = [\r\n        { source: { value: \"http://example.nl/persoon/Wisse\", type: \"uri\" }, target: { value: \"http://example.nl/bedrijf/DUO\", type: \"uri\" }, property: \"Is stagair bij\" },\r\n        { source: { value: \"http://example.nl/persoon/Wisse\", type: \"uri\" }, target: { value: \"http://example.nl/adres/Adres1\", type: \"uri\" }, property: \"Heeft Woonadres\" },\r\n        { source: { value: \"http://example.nl/adres/Adres1\", type: \"uri\" }, target: { value: \"7913TH\", type: \"literal\" }, property: \"Postcode\" },\r\n        { source: { value: \"http://example.nl/adres/Adres1\", type: \"uri\" }, target: { value: \"25\", type: \"literal\" }, property: \"Nummer\" },\r\n        { source: { value: \"http://example.nl/adres/Adres1\", type: \"uri\" }, target: { value: \"Zuideropgaande\", type: \"literal\" }, property: \"Straatnaam\" },\r\n        { source: { value: \"http://example.nl/adres/Adres1\", type: \"uri\" }, target: { value: \"Hollandscheveld\", type: \"literal\" }, property: \"Plaatsnaam\" },\r\n        { source: { value: \"http://example.nl/bedrijf/DUO\", type: \"uri\" }, target: { value: \"http://example.nl/adres/Adres2\", type: \"uri\" }, property: \"Heeft adres\" },\r\n        { source: { value: \"http://example.nl/adres/Adres2\", type: \"uri\" }, target: { value: \"9722TB\", type: \"literal\" }, property: \"Postcode\" },\r\n        { source: { value: \"http://example.nl/adres/Adres2\", type: \"uri\" }, target: { value: \"12\", type: \"literal\" }, property: \"Nummer\" },\r\n        { source: { value: \"http://example.nl/adres/Adres2\", type: \"uri\" }, target: { value: \"Kempkensberg\", type: \"literal\" }, property: \"Straatnaam\" },\r\n        { source: { value: \"http://example.nl/adres/Adres2\", type: \"uri\" }, target: { value: \"Groningen\", type: \"literal\" }, property: \"Plaatsnaam\" },\r\n        { source: { value: \"http://example.nl/persoon/Wisse\", type: \"uri\" }, target: { value: \"http://example.nl/adres/Adres2\", type: \"uri\" }, property: \"Werkadres\" },\r\n      ]\r\n\r\n      NewState = []\r\n\r\n      //distinct nodes\r\n      var templist = []\r\n      links.forEach(link => {\r\n        if (!templist.includes(link.source.value)) {\r\n          NewState.push({ id: link.source.value, type: link.source.type })\r\n        }\r\n        if (!templist.includes(link.target.value)) {\r\n          NewState.push({ id: link.target.value, type: link.target.type })\r\n        }\r\n\r\n        templist.push(link.source.value)\r\n        templist.push(link.target.value)\r\n      })\r\n      console.log('node NewState: ' + NewState)\r\n      return NewState\r\n    }\r\n    case FETCH_SPARQL_SUCCESS: {\r\n      console.log(action.result.config.url)\r\n      //LINK:\r\n      //[{ source: \"John\", target: 'Fussbal', property: 'plays' }]\r\n\r\n      //NODE\r\n      //[{ id: 'John' }]\r\n\r\n      NewState = []\r\n\r\n      //distinct nodes\r\n      var templist = []\r\n\r\n      var vars = action.result.data.head.vars\r\n      action.result.data.results.bindings.forEach(element => {\r\n\r\n        //add subject and object to templist\r\n        if (!templist.includes(element[vars[0]].value)) {\r\n          NewState.push({ id: element[vars[0]].value, type: element[vars[0]].type })\r\n        }\r\n        if (!templist.includes(element[vars[2]].value)) {\r\n          NewState.push({ id: element[vars[2]].value, type: element[vars[2]].type })\r\n        }\r\n\r\n        templist.push(element[vars[0]].value)\r\n        templist.push(element[vars[2]].value)\r\n      })\r\n      return NewState\r\n    }\r\n    case FETCH_SPARQL_ABOUTSUBJECT_SUCCESS: {\r\n      //LINK:\r\n      //[{ source: \"John\", target: 'Fussbal', property: 'plays' }]\r\n\r\n      //NODE\r\n      //[{ id: 'John' }]\r\n\r\n      NewState = []\r\n\r\n      //distinct nodes\r\n      var templist = []\r\n\r\n      //add subject\r\n      var urlParams = action.result.config.subject.split('/')\r\n      urlParams.splice(0, 3)\r\n      urlParams = urlParams.join('/')\r\n      console.log('urlParam: ' + urlParams)\r\n\r\n      NewState.push({ id: action.result.config.subject, type: 'uri' })\r\n\r\n      var vars = action.result.data.head.vars\r\n      // console.log(vars)\r\n\r\n      // console.log('longurl' + action.result.config.subject)\r\n      var subjectURL = action.result.config.subject.split('/')\r\n      // console.log('shorturl ' + subjectURL[2])\r\n\r\n      action.result.data.results.bindings.forEach(element => {\r\n\r\n        //check if property comes from specific url to filter bad nodes\r\n        var subjectURL = action.result.config.subject.split('/')\r\n        if (element[vars[0]].value.split('/')[2] === subjectURL[2]) {\r\n          //add object\r\n          if (!templist.includes(element[vars[1]].value)) {\r\n            if (element[vars[1]].type === 'uri') {\r\n              var objParam = element[action.result.data.head.vars[1]].value.split('/')\r\n              objParam.splice(0, 3)\r\n              objParam = objParam.join('/')\r\n              console.log('objParam: ' + objParam)\r\n              NewState.push({ id: element[action.result.data.head.vars[1]].value, type: element[vars[1]].type })\r\n            }\r\n            else {\r\n              NewState.push({ id: element[vars[1]].value, type: element[vars[1]].type })\r\n            }\r\n\r\n          }\r\n          templist.push(element[vars[1]].value)\r\n        }\r\n      })\r\n      return NewState\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}","import { FETCH_TEST_SUCCESS, FETCH_SPARQL_SUCCESS, FETCH_SPARQL_ABOUTSUBJECT_SUCCESS } from '../actionTypes'\r\n\r\nexport default function linkReducer(state = [\r\n  { source: \"Subject\", target: \"Object\", property: \"http://example.nl/property\" },\r\n], action) {\r\n  let NewState = Object.assign({}, state);\r\n  switch (action.type) {\r\n    case FETCH_TEST_SUCCESS: {\r\n\r\n      NewState = [\r\n        { source: \"http://example.nl/persoon/Wisse\", target: \"http://example.nl/bedrijf/DUO\", property: \"http://example.nl/Is stagair bij\" },\r\n        { source: \"http://example.nl/persoon/Wisse\", target: \"http://example.nl/adres/Adres1\", property: \"http://example.nl/Heeft Woonadres\" },\r\n        { source: \"http://example.nl/adres/Adres1\", target: \"7913TH\", property: \"http://example.nl/Postcode\" },\r\n        { source: \"http://example.nl/adres/Adres1\", target: \"25\", property: \"http://example.nl/Nummer\" },\r\n        { source: \"http://example.nl/adres/Adres1\", target: \"Zuideropgaande\", property: \"http://example.nl/Straatnaam\" },\r\n        { source: \"http://example.nl/adres/Adres1\", target: \"Hollandscheveld\", property: \"http://example.nl/Plaatsnaam\" },\r\n        { source: \"http://example.nl/bedrijf/DUO\", target: \"http://example.nl/adres/Adres2\", property: \"http://example.nl/Heeft adres\" },\r\n        { source: \"http://example.nl/adres/Adres2\", target: \"9722TB\", property: \"http://example.nl/Postcode\" },\r\n        { source: \"http://example.nl/adres/Adres2\", target: \"12\", property: \"http://example.nl/Nummer\" },\r\n        { source: \"http://example.nl/adres/Adres2\", target: \"Kempkensberg\", property: \"http://example.nl/Straatnaam\" },\r\n        { source: \"http://example.nl/adres/Adres2\", target: \"Groningen\", property: \"http://example.nl/Plaatsnaam\" },\r\n        { source: \"http://example.nl/persoon/Wisse\", target: \"http://example.nl/adres/Adres2\", property: \"http://example.nl/Werkadres\" },\r\n      ]\r\n\r\n      //sort links by source then target --> sorteert goed.\r\n      NewState.sort(function (a, b) {\r\n        if (a.source > b.source) { return 1; }\r\n        else if (a.source < b.source) { return -1; }\r\n        else {\r\n          if (a.target > b.target) { return 1; }\r\n          if (a.target < b.target) { return -1; }\r\n          else { return 0; }\r\n        }\r\n      })\r\n\r\n      // set linknum for every link --> wordt in path gebruikt om duplicate links te kunnen leggen\r\n      for (var i = 0; i < NewState.length; i++) {\r\n        if (i !== 0 &&\r\n          NewState[i].source === NewState[i - 1].source &&\r\n          NewState[i].target === NewState[i - 1].target) {\r\n          NewState[i].linknum = NewState[i - 1].linknum + 1;\r\n        }\r\n        else { NewState[i].linknum = 1; };\r\n      };\r\n      return NewState\r\n    }\r\n    case FETCH_SPARQL_SUCCESS: {\r\n      //LINK:\r\n      //[{ source: \"John\", target: 'Fussbal', property: 'plays' }]\r\n\r\n      //NODE\r\n      //[{ id: 'John' }]\r\n\r\n      NewState = []\r\n\r\n      action.result.data.results.bindings.forEach(element => {\r\n        //console.log(element)\r\n        var source = element[action.result.data.head.vars[0]]\r\n        var target = element[action.result.data.head.vars[2]]\r\n        var property = element[action.result.data.head.vars[1]]\r\n        var link = {}\r\n        link.source = source.value\r\n        link.target = target.value\r\n        link.property = property.value\r\n        NewState.push(link)\r\n\r\n        //sort links by source then target --> sorteert goed.\r\n        NewState.sort(function (a, b) {\r\n          if (a.source > b.source) { return 1; }\r\n          else if (a.source < b.source) { return -1; }\r\n          else {\r\n            if (a.target > b.target) { return 1; }\r\n            if (a.target < b.target) { return -1; }\r\n            else { return 0; }\r\n          }\r\n        })\r\n\r\n        // set linknum for every link --> wordt in path gebruikt om duplicate links te kunnen leggen\r\n        for (var i = 0; i < NewState.length; i++) {\r\n          if (i !== 0 &&\r\n            NewState[i].source === NewState[i - 1].source &&\r\n            NewState[i].target === NewState[i - 1].target) {\r\n            NewState[i].linknum = NewState[i - 1].linknum + 1;\r\n          }\r\n          else { NewState[i].linknum = 1; };\r\n        };\r\n\r\n\r\n      });\r\n      return NewState\r\n    }\r\n    case FETCH_SPARQL_ABOUTSUBJECT_SUCCESS: {\r\n      NewState = []\r\n\r\n      action.result.data.results.bindings.forEach(element => {\r\n\r\n        var link = {}\r\n\r\n        link.source = action.result.config.subject\r\n        link.target = element[action.result.data.head.vars[1]].value\r\n        link.property = element[action.result.data.head.vars[0]].value\r\n\r\n        //check if property comes from specific url to filter bad links\r\n        var subjectURL = action.result.config.subject.split('/')\r\n        if (element[action.result.data.head.vars[0]].value.split('/')[2] === subjectURL[2]) {\r\n          NewState.push(link)\r\n        }\r\n\r\n        //sort links by source then target --> sorteert goed.\r\n        NewState.sort(function (a, b) {\r\n          if (a.source > b.source) { return 1; }\r\n          else if (a.source < b.source) { return -1; }\r\n          else {\r\n            if (a.target > b.target) { return 1; }\r\n            if (a.target < b.target) { return -1; }\r\n            else { return 0; }\r\n          }\r\n        })\r\n\r\n        // set linknum for every link --> wordt in path gebruikt om duplicate links te kunnen leggen\r\n        for (var i = 0; i < NewState.length; i++) {\r\n          if (i !== 0 &&\r\n            NewState[i].source === NewState[i - 1].source &&\r\n            NewState[i].target === NewState[i - 1].target) {\r\n            NewState[i].linknum = NewState[i - 1].linknum + 1;\r\n          }\r\n          else { NewState[i].linknum = 1; };\r\n        };\r\n\r\n\r\n      });\r\n      return NewState\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}","import { SET_CURRENT_DATASOURCE, TOGGLE_SEARCHALL, TOGGLE_BLOCK_DATASOURCE, DELETE_DATASOURCE, ADD_DATASOURCE } from '../actionTypes';\r\n\r\n\r\nexport default function datasourceReducer(state = {\r\n  searchAll: 'Uit',\r\n  currentDatasource: 'https://lod.onderwijsregistratie.nl/rio/sparql',\r\n  datasources: [\r\n    {\r\n      name: 'Onderwijsregistratie',\r\n      endpoint: 'https://lod.onderwijsregistratie.nl/rio/sparql',\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'dbpedia',\r\n      endpoint: 'http://dbpedia.org/sparql',\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'Basisregistratie adressen en gebouwen (alle voorkomens)',\r\n      endpoint: 'https://bag.basisregistraties.overheid.nl/sparql',\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'Basisregistratie adressen en gebouwen (nu geldige voorkomens)',\r\n      endpoint: 'https://bag.basisregistraties.overheid.nl/sparql/now',\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'Basisregistratie Kadaster - Digitale Kadastrale Kaart',\r\n      endpoint: 'https://brk.basisregistraties.overheid.nl/sparql',\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'Basisregitratie Topografie - Top10NL',\r\n      endpoint: 'https://brt.basisregistraties.overheid.nl/sparql',\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'Cultuurhistorische objecten',\r\n      endpoint: 'https://linkeddata.cultureelerfgoed.nl/sparql',\r\n      active: true,\r\n    },\r\n  ],\r\n}, action) {\r\n  let newState = Object.assign({}, state);\r\n  switch (action.type) {\r\n    case SET_CURRENT_DATASOURCE: {\r\n      newState.currentDatasource = action.datasource.endpoint;\r\n      return newState;\r\n    }\r\n    case TOGGLE_SEARCHALL: {\r\n      if (state.searchAll === 'Aan') {\r\n        newState.searchAll = 'Uit'\r\n      }\r\n      if (state.searchAll === 'Uit') {\r\n        newState.searchAll = 'Aan'\r\n      }\r\n\r\n      return newState\r\n    }\r\n    case TOGGLE_BLOCK_DATASOURCE: {\r\n      var index = state.datasources.indexOf(action.datasource)\r\n      newState.datasources[index].active = !newState.datasources[index].active\r\n\r\n      return newState\r\n    }\r\n    case DELETE_DATASOURCE: {\r\n      const name = action.datasource.name\r\n      var index = state.datasources.indexOf(action.datasource)\r\n      newState.datasources.splice(index, 1)\r\n      return newState\r\n    }\r\n    case ADD_DATASOURCE: {\r\n      const name = action.name\r\n      const endpoint = action.endpoint\r\n      newState.datasources.push({\r\n        name: name,\r\n        endpoint: endpoint,\r\n        active: true,\r\n      })\r\n      return newState\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n","export default function loadingReducer(state = {}, action) {\r\n  if (action.type.endsWith('_REQUEST')) {\r\n    const requestName = action.type.replace('_REQUEST', '')\r\n    const counter = state[requestName] || 0\r\n    return { ...state, [requestName]: counter + 1 }\r\n  }\r\n\r\n  if (action.type.endsWith('_SUCCESS') || action.type.endsWith('_FAILURE')) {\r\n    const requestName = action.type.replace('_SUCCESS', '').replace('_FAILURE', '')\r\n    const counter = state[requestName] || 0\r\n    return { ...state, [requestName]: counter - 1 }\r\n  }\r\n\r\n  return state\r\n}","export default function errorReducer(state = {}, action) {\r\n  if (action.type.endsWith('_FAILURE')) {\r\n    return action.error\r\n  }\r\n  // clear error whensubmitting another request\r\n  if (action.type.endsWith('_REQUEST')) {\r\n    return {}\r\n  }\r\n\r\n  return state\r\n}","// Root Reducer, combines all reducers into one single reducer\r\n\r\nimport { combineReducers } from 'redux'\r\n\r\n\r\n// reducer for updating forcegraph based on meaningfull changes.\r\nimport dataReducer from './data'\r\n\r\n//sparql endpoint data reducers\r\nimport nodesReducer from './nodes'\r\nimport linkesReducer from './links'\r\n\r\n\r\nimport datasourceReducer from './datasource'\r\n\r\n//utility reducers\r\nimport loadingReducer from './loading'\r\nimport errorReducer from './error'\r\n\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nconst appReducer = (history) => combineReducers({\r\n  data: dataReducer,\r\n  nodes: nodesReducer,\r\n  links: linkesReducer,\r\n  datasource: datasourceReducer,\r\n  loading: loadingReducer,\r\n  error: errorReducer,\r\n  router: connectRouter(history)\r\n})\r\n\r\nexport default appReducer","// redux\r\nimport { createStore, compose } from 'redux'\r\n\r\n//root reducer\r\nimport appReducer from '../reducers/index'\r\n\r\n//middleware\r\nimport middleware from './middleware'\r\nimport { history } from './middleware'\r\n\r\n//devtools\r\nimport { persistState } from 'redux-devtools'\r\nimport DevTools from '../../containers/DevTools'\r\n\r\n\r\nconst enhancer = compose(\r\n  middleware,\r\n  DevTools.instrument(),\r\n  persistState(getSessionKey())\r\n)\r\n\r\nfunction getSessionKey() {\r\n  const matches = window.location.href.match(/[?&]debug=([^&#])\\b/)\r\n  return (matches && matches.length > 0)\r\n    ? matches[1]\r\n    : null\r\n}\r\n\r\nexport default function configureStore(initialState) {\r\n  return createStore(appReducer(history), initialState, enhancer)\r\n}","import React from 'react'\r\nimport {\r\n  NavLink,\r\n} from 'react-router-dom'\r\n\r\nimport { Navbar, Nav } from 'react-bootstrap'\r\n\r\n//import Logo from '../assets/img/logo.svg'\r\n\r\nclass Navigation extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Navigation\">\r\n        <Navbar expand=\"lg\" fixed=\"top\">\r\n          <Navbar.Brand as={NavLink} activeClassName=\"notactive\" to=\"/\">\r\n            <img\r\n              // src={Logo}\r\n              width=\"100\"\r\n              height=\"100\"\r\n              alt=\"Logo\"\r\n            /><b>React SPARQL Browser</b>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav.Link as={NavLink} exact activeClassName=\"active\" to=\"/\">Home</Nav.Link>\r\n            <Nav.Link as={NavLink} activeClassName=\"active\" to=\"/sparql-react-browser/contact\">Contact</Nav.Link>\r\n            <Nav.Link as={NavLink} activeClassName=\"active\" to=\"/sparql-react-browser/graph/examples\">Graph</Nav.Link>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Navigation","import React from 'react'\r\n\r\nimport Navigation from './Nav'\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Header\">\r\n        <header>\r\n          <Navigation />\r\n        </header>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nclass Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"Footer\">\r\n        <Container>\r\n          <Row>\r\n            <Col sm={4}></Col>\r\n            <Col sm={4}><p>Â© React-SPARQL-Browser {new Date().getYear() + 1900}</p></Col>\r\n            <Col sm={4}></Col>\r\n\r\n          </Row>\r\n        </Container>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nimport Jumbotron from 'react-bootstrap/Jumbotron'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nclass Home extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Home\">\r\n        <Jumbotron>\r\n          <h1>Sparql-React-Browser</h1>\r\n          <p>\r\n            Welkom bij de Sparql-React-Browser. Via deze applicatie kunt u open onderwijsdata opvragen en visualiseren. Met onderstaande zoekmogelijkheid komt u snel bij de data die u zoekt. Data wordt weergegeven in een graph JSON. Het gaat om open informatie.\r\n          </p>\r\n          <p>\r\n            <Button variant=\"primary\" onClick={() => this.props.history.push('/sparql-react-browser/graph/examples')}>Probeer uit!</Button>\r\n          </p>\r\n        </Jumbotron>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nexport default Home","import * as d3 from 'd3'\r\nimport React from 'react'\r\n\r\nclass ForceGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nodes: props.nodes,\r\n      links: props.links\r\n    };\r\n\r\n    // dragging\r\n    this.drag = (simulation) => {\r\n      const dragstarted = (d) => {\r\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\r\n        d.fx = d.x;\r\n        d.fy = d.y;\r\n      };\r\n\r\n      const dragged = (d) => {\r\n        d.fx = d3.event.x;\r\n        d.fy = d3.event.y;\r\n      };\r\n\r\n      const dragended = (d) => {\r\n        if (!d3.event.active) simulation.alphaTarget(0);\r\n        d.fx = null;\r\n        d.fy = null;\r\n      };\r\n\r\n      return d3\r\n        .drag()\r\n        .on(\"start\", dragstarted)\r\n        .on(\"drag\", dragged)\r\n        .on(\"end\", dragended)\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('componentDidMount')\r\n    var element = document.getElementById('forcegraph');\r\n\r\n    // Redraw based on the new size whenever the browser window is resized.\r\n    window.addEventListener(\"resize\", () => {\r\n      this.removeSVG()\r\n      this.createSVG(element.offsetWidth, element.offsetHeight)\r\n      this.restartSimulation()\r\n    });\r\n\r\n    //initial forcegraph\r\n    this.createSVG(element.offsetWidth, element.offsetHeight)\r\n\r\n\r\n    //initial forces\r\n    this.forceLink = d3.forceLink().links(this.props.links).distance(400).id(function (d) { return d.id; })\r\n    this.forceCenter = d3.forceCenter((element.offsetWidth * 1) / 2, (element.offsetHeight * 1) / 2)\r\n    this.forceCharge = d3.forceManyBody().strength(-3000) //defaul -30\r\n\r\n    //simulation --> simulation gets updated upon interaction\r\n    this.simulation = d3.forceSimulation(this.props.nodes)\r\n      .force('center', this.forceCenter)\r\n      .force('charge', this.forceCharge)\r\n      .force('link', this.forceLink)\r\n    this.simulation.on('tick', () => this.setState({\r\n      //call this.setstate to rerender with react.\r\n    }));\r\n  }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    this.simulation.nodes(this.props.nodes) // load new nodes\r\n    this.simulation.force('link').links(this.props.links) // load new links\r\n\r\n    //console.log('hier')\r\n    //console.log(prevprops.data.id)\r\n    //console.log(this.props.data.id)\r\n    if (this.props.data.id !== prevprops.data.id) { // check if any data has changed and restart the simulation if so currently based on id in linkreducer\r\n      //d3.selectAll(\"svg > *\").remove()\r\n\r\n      d3.select('.links').selectAll('path').remove()\r\n      d3.select('.nodesellipse').selectAll('ellipse').remove()\r\n      d3.select('.nodestext').selectAll('text').remove()\r\n      d3.select('.linkstext').selectAll('text').remove()\r\n      // d3.select('.defs').selectAll('path').remove()\r\n\r\n      console.log('restartSimulation')\r\n      this.restartSimulation()\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.simulation.stop();\r\n  }\r\n\r\n  createSVG(width, height) {\r\n    console.log('createsvg')\r\n\r\n    var zoom = d3.zoom()\r\n      .scaleExtent([.5, 10])\r\n      .on(\"zoom\", zoomed);\r\n\r\n    var svg = d3.select(\"#forcegraph\")\r\n      .append(\"svg\")\r\n      .attr(\"class\", \"forcegraph\")\r\n      .style(\"width\", width * 1)   // set size of svg in relation to parent\r\n      .style(\"height\", height * 1) // set size of svg in relation to parent\r\n      .style(\"border\", \"1px solid black\")\r\n      .call(zoom).append(\"g\")\r\n    svg.append(\"g\").attr(\"class\", \"links\")\r\n    svg.append(\"g\").attr(\"class\", \"nodesellipse\")\r\n    svg.append(\"g\").attr(\"class\", \"nodestext\")\r\n    svg.append(\"g\").attr(\"class\", \"linkstext\")\r\n    svg.append(\"defs\").attr(\"class\", \"defs\")\r\n\r\n    function zoomed() {\r\n      const currentTransform = d3.event.transform;\r\n      svg.attr(\"transform\", currentTransform);\r\n      //slider.property(\"value\", currentTransform.k);\r\n    }\r\n\r\n    // function slided(d) {\r\n    //   zoom.scaleTo(svg, d3.select(this).property(\"value\"));\r\n    // }\r\n\r\n    // var slider = d3.select(\"#forcegraph\").append(\"p\").append(\"input\")\r\n    //   .datum({})\r\n    //   .attr(\"type\", \"range\")\r\n    //   .attr(\"value\", zoom.scaleExtent()[0])\r\n    //   .attr(\"min\", zoom.scaleExtent()[0])\r\n    //   .attr(\"max\", zoom.scaleExtent()[1])\r\n    //   .attr(\"step\", (zoom.scaleExtent()[1] - zoom.scaleExtent()[0]) / 100)\r\n    //   .on(\"input\", slided);\r\n  }\r\n\r\n  removeSVG() {\r\n    d3.select('#forcegraph').selectAll('svg').remove()\r\n  }\r\n\r\n  restartSimulation() {\r\n    this.simulation.alpha(1).restart()\r\n  }\r\n\r\n  links() {\r\n    var selection = d3.select('.links')\r\n      .selectAll('path')\r\n      .data(this.props.links)\r\n\r\n    selection.enter()\r\n      .append('path')\r\n      .attr(\"class\", function (d) { return \"link\" })\r\n      .attr(\"class\", function (d) { return \"link \" + d.property; })\r\n      .attr(\"id\", function (d, i) { return \"linkId_\" + i; })\r\n      .attr(\"marker-end\", function (d) { return \"url(#\" + d.property.replace(/\\s/g, '') + \")\"; }) //removed to allow matching\r\n      .merge(selection)\r\n      .attr(\"d\", function (d) {\r\n        var dx = d.target.x - d.source.x\r\n        var dy = d.target.y - d.source.y\r\n        if (d.linknum) {\r\n          var dr = d.linknum * 150 - 150;\r\n        }\r\n        else {\r\n          var dr = 0\r\n        }\r\n\r\n        return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\r\n      })\r\n\r\n\r\n\r\n    selection.exit().remove()\r\n  }\r\n\r\n  nodesellipse() {\r\n    var selection = d3.select('.nodesellipse')\r\n      .selectAll('ellipse')\r\n      .data(this.props.nodes)             //bind data\r\n      .call(this.drag(this.simulation));            //allow dragging  \r\n\r\n    selection.enter()                     //for each row in the data do...\r\n      .append('ellipse')\r\n      .on('click', function (d) {\r\n        if (d.type === 'uri') {\r\n          //window.location.href = d.id // opens in the same page\r\n          window.open(d.id)           // opens in a new page\r\n        }\r\n      })\r\n      .on(\"mouseover\", function (d) {\r\n        console.log('mouseover')\r\n        console.log(d)\r\n        console.log(this)\r\n      })\r\n      .on(\"mouseout\", function (d) {\r\n        console.log('mouseout')\r\n      })\r\n      .on(\"mousedown\", function (d) {\r\n        console.log('mousedown')\r\n      })\r\n      .on(\"mouseup\", function (d) {\r\n        console.log('mouseup')\r\n      })\r\n      .attr(\"rx\", function (d) { return 30 }) //d.id.length\r\n      .attr(\"ry\", function (d) { return 30 }) //d.id.length\r\n      .attr(\"class\", \"ellipse\")\r\n      .classed('uri', function (d) { return d.type === 'uri' })\r\n      .classed('literal', function (d) { return d.type === 'literal' })\r\n      //.style(\"fill\", \"#FD8D3C\")\r\n      .merge(selection)\r\n      .attr(\"transform\", function (d) {\r\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\r\n      })\r\n\r\n    selection.exit().remove()\r\n\r\n  }\r\n\r\n  nodestext() {\r\n    var selection = d3.select('.nodestext')\r\n      .selectAll('text')\r\n      .data(this.props.nodes)                        //bind data\r\n      .call(this.drag(this.simulation));            //allow dragging  \r\n\r\n    selection.enter()                     //for each row in the data do...\r\n      .append('text')\r\n\r\n      .on('click', function (d) {\r\n        if (d.type === 'uri') {\r\n          //window.location.href = d.id // opens in the same page\r\n          window.open(d.id)           // opens in a new page\r\n        }\r\n      })\r\n      .on(\"mouseover\", function (d) {\r\n        console.log('mouseover')\r\n      })\r\n      .on(\"mouseout\", function (d) {\r\n        console.log('mouseout')\r\n      })\r\n      .on(\"mousedown\", function (d) {\r\n        console.log('mousedown')\r\n      })\r\n      .on(\"mouseup\", function (d) {\r\n        console.log('mouseup')\r\n      })\r\n      .text(function (d) {\r\n        if (d.type === 'uri') {\r\n          var nodeURL = d.id.split('/')\r\n          nodeURL.splice(0, 3)\r\n          nodeURL = nodeURL.join('/')\r\n          console.log('nodeURL: ' + nodeURL)\r\n          return nodeURL;\r\n        }\r\n        return d.id;\r\n      })\r\n      .merge(selection)\r\n      .attr(\"transform\", function (d) {\r\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\r\n      });\r\n    // 2nd way of doing it\r\n    // .attr('x', function (d) { return d.x })\r\n    // .attr('y', function (d) { return d.y })\r\n    // .attr('dy', function (d) { return 5 })\r\n\r\n    selection.exit().remove()\r\n  }\r\n\r\n  linktext() {\r\n    var selection = d3.select('.linkstext')\r\n      .selectAll('text')\r\n      .data(this.props.links)\r\n\r\n    selection.enter()\r\n      .append(\"text\")\r\n      .on('click', function (d) {\r\n        //window.location.href = d.id // opens in the same page\r\n        window.open(d.id)           // opens in a new page\r\n      })\r\n      .attr(\"x\", \"200\")\r\n      .attr(\"class\", \"linklabel\")\r\n      .append(\"textPath\")\r\n      .attr(\"xlink:href\", function (d, i) { return \"#linkId_\" + i; })\r\n      .text(function (d) {\r\n        var propertyURL = d.property.split('/')\r\n        propertyURL.splice(0, 3)\r\n        propertyURL = propertyURL.join('/')\r\n        console.log('propertyURL: ' + propertyURL)\r\n        return propertyURL;\r\n      })\r\n\r\n    selection.exit().remove()\r\n\r\n  }\r\n\r\n  linkmarker() {\r\n    var selection = d3.select('.defs')\r\n      .selectAll('marker')\r\n      .data(this.getAllLinkPropertys())\r\n\r\n    selection.enter()\r\n      .append(\"marker\")\r\n      .attr(\"id\", String)\r\n      .attr(\"viewBox\", \"0 -5 10 10\")\r\n      .attr(\"refX\", 40) // distance from link\r\n      .attr(\"refY\", 0) //deviation from link linke\r\n      .attr(\"markerWidth\", 6)\r\n      .attr(\"markerHeight\", 6)\r\n      .attr(\"orient\", \"auto\")\r\n      .append(\"svg:path\")\r\n      .attr(\"d\", \"M0,-5L10,0L0,5\");\r\n\r\n\r\n    selection.exit().remove()\r\n  }\r\n\r\n  getAllLinkPropertys() {\r\n\r\n    var linkpropertys = []\r\n    this.props.links.forEach(element => {\r\n      linkpropertys.push(element.property.replace(/\\s/g, ''))\r\n    });\r\n    return linkpropertys\r\n  }\r\n\r\n  getConNodes() {\r\n    console.log('conNodes')\r\n  }\r\n\r\n  render() {\r\n    this.links()\r\n    this.nodesellipse()\r\n    this.nodestext()\r\n    this.linktext()\r\n    this.linkmarker()\r\n\r\n\r\n\r\n    return (\r\n      <div id=\"forcegraph\">\r\n        {this.props.nodes.map((node, index) => (\r\n          <Circle node={node} index={index}></Circle>\r\n        ))}\r\n        {/* {this.props.links.map((link, index) => (\r\n            <Link link={link} index={index}></Link>\r\n          ))} */}\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nForceGraph.defaultProps = {\r\n  width: 600,\r\n  height: 600,\r\n  forceStrength: -10\r\n};\r\n\r\nexport default ForceGraph\r\n\r\n\r\nclass Circle extends React.Component {\r\n  render() {\r\n    return (\r\n      <g>\r\n        <circle r={20} cx={this.props.node.x} cy={this.props.node.y} fill=\"red\" key={this.props.index} onClick={() => alert('You have clicked the circle.')} />\r\n        <text>{this.props.node.id}</text>\r\n      </g>\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass Link extends React.Component {\r\n  render() {\r\n    return (<line\r\n      x1={this.props.link.source.x}\r\n      y1={this.props.link.source.y}\r\n      x2={this.props.link.target.x}\r\n      y2={this.props.link.target.y}\r\n      key={`line-${this.props.index}`}\r\n      stroke=\"black\" />)\r\n  }\r\n\r\n}","import { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport ForceGraph from '../components/ForceGraph'\r\nimport ForceGraphOld from '../components/ForceGraphOld'\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    nodes: state.nodes,\r\n    links: state.links,\r\n    data: state.data,\r\n    history: state.router\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) =>\r\n  bindActionCreators({}, dispatch)\r\n\r\nconst ConnectedForceGraph = connect(mapStateToProps, mapDispatchToProps)(ForceGraph)\r\n\r\nexport default ConnectedForceGraph","import * as d3 from 'd3'\r\nimport React from 'react'\r\n\r\nclass ForceGraph extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    console.log('ForceGraph rerendered')\r\n  }\r\n\r\n  componentDidMount() {\r\n    var element = document.getElementById('forcegraph');\r\n\r\n    // Redraw based on the new size whenever the browser window is resized.\r\n    window.addEventListener(\"resize\", () => {\r\n      this.removeSVG()\r\n      this.createSVG(element.offsetWidth, element.offsetHeight)\r\n      this.createSimulation(this.props.nodes, this.props.links, element.offsetWidth, element.offsetHeight)\r\n    });\r\n\r\n    this.createSVG(element.offsetWidth, element.offsetHeight)\r\n    this.createSimulation(this.props.nodes, this.props.links, element.offsetWidth, element.offsetHeight)\r\n\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.removeSimulation()\r\n    var element = document.getElementById('forcegraph');\r\n    this.createSimulation(this.props.nodes, this.props.links, element.offsetWidth, element.offsetHeight)\r\n  }\r\n\r\n  createSVG(width, height) {\r\n    console.log('createsvg')\r\n\r\n    var zoom = d3.zoom()\r\n      .scaleExtent([.5, 10])\r\n      .on(\"zoom\", zoomed);\r\n\r\n    var svg = d3.select(\"#forcegraph\")\r\n      .append(\"svg\")\r\n      .attr(\"class\", \"forcegraph\")\r\n      .style(\"width\", width * 1)   // set size of svg in relation to parent\r\n      .style(\"height\", height * 1) // set size of svg in relation to parent\r\n      .style(\"border\", \"1px solid black\")\r\n      .call(zoom).append(\"g\")\r\n    svg.append(\"g\").attr(\"class\", \"links\")\r\n    svg.append(\"g\").attr(\"class\", \"nodesellipse\")\r\n    svg.append(\"g\").attr(\"class\", \"nodestext\")\r\n    svg.append(\"g\").attr(\"class\", \"linkstext\")\r\n    svg.append(\"defs\").attr(\"class\", \"defs\")\r\n\r\n    function zoomed() {\r\n      const currentTransform = d3.event.transform;\r\n      svg.attr(\"transform\", currentTransform);\r\n      //slider.property(\"value\", currentTransform.k);\r\n    }\r\n\r\n    // function slided(d) {\r\n    //   zoom.scaleTo(svg, d3.select(this).property(\"value\"));\r\n    // }\r\n\r\n    // var slider = d3.select(\"#forcegraph\").append(\"p\").append(\"input\")\r\n    //   .datum({})\r\n    //   .attr(\"type\", \"range\")\r\n    //   .attr(\"value\", zoom.scaleExtent()[0])\r\n    //   .attr(\"min\", zoom.scaleExtent()[0])\r\n    //   .attr(\"max\", zoom.scaleExtent()[1])\r\n    //   .attr(\"step\", (zoom.scaleExtent()[1] - zoom.scaleExtent()[0]) / 100)\r\n    //   .on(\"input\", slided);\r\n  }\r\n\r\n  removeSVG() {\r\n    d3.select('#forcegraph').selectAll('svg').remove()\r\n  }\r\n\r\n  removeSimulation() {\r\n    d3.select('.nodestext').selectAll('text').remove();\r\n    d3.select('.nodesellipse').selectAll('ellipse').remove();\r\n    d3.select('.links').selectAll('path').remove();\r\n    d3.select('.linkstext').selectAll('text').remove();\r\n\r\n  }\r\n\r\n  createSimulation(nodes, links, width, height) {\r\n    //simulation\r\n\r\n    var forceLink = d3.forceLink().links(links).distance(400).id(function (d) { return d.id; })\r\n    var forceCenter = d3.forceCenter((width * 1) / 2, (height * 1) / 2)\r\n    var forceCharge = d3.forceManyBody().strength(-1000) //defaul -30\r\n\r\n    var simulation = d3.forceSimulation(nodes)\r\n      .force('center', forceCenter)\r\n      .force('charge', forceCharge)\r\n      .force('link', forceLink)\r\n      .on('tick', ticked);\r\n\r\n    //node properties\r\n    function updateNodesText() {\r\n      var selection = d3.select('.nodestext')\r\n        .selectAll('text')\r\n        .data(nodes)                        //bind data\r\n        .call(drag(simulation));            //allow dragging  \r\n\r\n      selection.enter()                     //for each row in the data do...\r\n        .append('text')\r\n        .on('click', function (d) {\r\n          //alert(d.id)\r\n          //d3.select(this).style(\"fill\", \"magenta\")\r\n        })\r\n        .on(\"mouseover\", function (d) {\r\n          set_highlight(d, get_connectedNodes(d), get_connectedLinks(d));\r\n        })\r\n        .on(\"mouseout\", function (d) {\r\n          exit_highlight(d);\r\n          exit_fade(d)\r\n        })\r\n        .on(\"mousedown\", function (d) {\r\n          console.log('d nodetext:' + d.id)\r\n          set_fade(d, get_connectedNodes(d));\r\n\r\n        })\r\n        .on(\"mouseup\", function (d) {\r\n          console.log('mouseup')\r\n        })                    //add element\r\n        .text(function (d) {                // add attributes\r\n          return d.id\r\n        })\r\n        .merge(selection)\r\n        .attr(\"transform\", function (d) {\r\n          return \"translate(\" + d.x + \",\" + d.y + \")\";\r\n        });\r\n      // 2nd way of doing it\r\n      // .attr('x', function (d) { return d.x })\r\n      // .attr('y', function (d) { return d.y })\r\n      // .attr('dy', function (d) { return 5 })\r\n\r\n      selection.exit().remove()\r\n    }\r\n\r\n    function updateNodesellipse() {\r\n      var selection = d3.select('.nodesellipse')\r\n        .selectAll('ellipse')\r\n        .data(nodes)             //bind data\r\n        .call(drag(simulation));            //allow dragging  \r\n\r\n      selection.enter()                     //for each row in the data do...\r\n        .append('ellipse')\r\n        .on('click', function (d) {\r\n          //alert(d.id)\r\n          //d3.select(this).style(\"fill\", \"magenta\")\r\n        })\r\n        .on(\"mouseover\", function (d) {\r\n          set_highlight(d, get_connectedNodes(d), get_connectedLinks(d));\r\n        })\r\n        .on(\"mouseout\", function (d) {\r\n          exit_highlight(d);\r\n          exit_fade(d);\r\n        })\r\n        .on(\"mousedown\", function (d) {\r\n          console.log('d nodeellipse:' + d.id)\r\n          set_fade(d, get_connectedNodes(d));\r\n        })\r\n        .on(\"mouseup\", function (d) {\r\n          console.log('mouseup')\r\n        })\r\n        .attr(\"rx\", function (d) { return 30 }) //d.id.length\r\n        .attr(\"ry\", function (d) { return 30 }) //d.id.length\r\n        .attr(\"class\", \"ellipse\")\r\n        .classed('uri', function (d) { return d.type === 'uri' })\r\n        .classed('literal', function (d) { return d.type === 'literal' })\r\n        //.style(\"fill\", \"#FD8D3C\")\r\n        .merge(selection)\r\n        .attr(\"transform\", function (d) {\r\n          return \"translate(\" + d.x + \",\" + d.y + \")\";\r\n        })\r\n\r\n      selection.exit().remove()\r\n    }\r\n\r\n    //link properties\r\n    function updateLinks() {\r\n      var selection = d3.select('.links')\r\n        .selectAll('path')\r\n        .data(links)\r\n\r\n      selection.enter()\r\n        .append('path')\r\n        .attr(\"class\", function (d) { return \"link\" })\r\n        .attr(\"class\", function (d) { return \"link \" + d.property; })\r\n        .attr(\"id\", function (d, i) { return \"linkId_\" + i; })\r\n        .attr(\"marker-end\", function (d) { return \"url(#\" + d.property.replace(/\\s/g, '') + \")\"; }) //removed to allow matching\r\n        .merge(selection)\r\n        .attr(\"d\", function (d) {\r\n          var dx = d.target.x - d.source.x\r\n          var dy = d.target.y - d.source.y\r\n          if (d.linknum) {\r\n            var dr = d.linknum * 150 - 150;\r\n          }\r\n          else {\r\n            var dr = 0\r\n          }\r\n\r\n          return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\r\n        })\r\n\r\n\r\n\r\n      selection.exit().remove()\r\n    }\r\n\r\n    function updateLinksText() {\r\n      var selection = d3.select('.linkstext')\r\n        .selectAll('text')\r\n        .data(links)\r\n\r\n      selection.enter()\r\n        .append(\"text\")\r\n        .attr(\"x\", \"200\")\r\n        .attr(\"class\", \"linklabel\")\r\n        .append(\"textPath\")\r\n        .attr(\"xlink:href\", function (d, i) { return \"#linkId_\" + i; })\r\n        .text(function (d) {\r\n          return d.property;\r\n        })\r\n\r\n      selection.exit().remove()\r\n    }\r\n\r\n    function updateLinkMarkers() {\r\n      var selection = d3.select('.defs')\r\n        .selectAll('marker')\r\n        .data(getAllLinkPropertys())\r\n\r\n      selection.enter()\r\n        .append(\"marker\")\r\n        .attr(\"id\", String)\r\n        .attr(\"viewBox\", \"0 -5 10 10\")\r\n        .attr(\"refX\", 40) // distance from link\r\n        .attr(\"refY\", 0) //deviation from link linke\r\n        .attr(\"markerWidth\", 6)\r\n        .attr(\"markerHeight\", 6)\r\n        .attr(\"orient\", \"auto\")\r\n        .append(\"svg:path\")\r\n        .attr(\"d\", \"M0,-5L10,0L0,5\");\r\n\r\n\r\n      selection.exit().remove()\r\n    }\r\n\r\n    function getAllLinkPropertys() {\r\n\r\n      var linkpropertys = []\r\n      links.forEach(element => {\r\n        linkpropertys.push(element.property.replace(/\\s/g, ''))\r\n      });\r\n      return linkpropertys\r\n    }\r\n\r\n    //update drawing nodes and links\r\n    function ticked() {\r\n      console.log('ticked')\r\n      updateNodesText()\r\n      updateNodesellipse()\r\n      updateLinks()\r\n      updateLinksText()\r\n      updateLinkMarkers()\r\n    }\r\n\r\n    // dragging\r\n    const drag = (simulation) => {\r\n      const dragstarted = (d) => {\r\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\r\n        d.fx = d.x;\r\n        d.fy = d.y;\r\n      };\r\n\r\n      const dragged = (d) => {\r\n        d.fx = d3.event.x;\r\n        d.fy = d3.event.y;\r\n      };\r\n\r\n      const dragended = (d) => {\r\n        if (!d3.event.active) simulation.alphaTarget(0);\r\n        d.fx = null;\r\n        d.fy = null;\r\n      };\r\n\r\n      return d3\r\n        .drag()\r\n        .on(\"start\", dragstarted)\r\n        .on(\"drag\", dragged)\r\n        .on(\"end\", dragended)\r\n    };\r\n\r\n    function get_connectedNodes(d) {\r\n      //get connected nodes of d\r\n      var connectedNodes = []\r\n\r\n      connectedNodes.push(d.id) //add the node that is being hoverd so that it is also highlighted\r\n\r\n      links.forEach(link => {\r\n        if (link.source.id === d.id) {\r\n          if (!connectedNodes.includes(link.target.id)) connectedNodes.push(link.target.id)\r\n        }\r\n        if (link.target.id === d.id) {\r\n          if (!connectedNodes.includes(link.source.id)) connectedNodes.push(link.source.id)\r\n        }\r\n      });\r\n      console.log('connectedNodes: ')\r\n      console.log(connectedNodes)\r\n      return connectedNodes\r\n    }\r\n\r\n    function get_connectedLinks(d) {\r\n      //get connected links of d\r\n      var connectedLinks = []\r\n\r\n      links.forEach(link => {\r\n        if (link.source.id === d.id || link.target.id === d.id) {\r\n          connectedLinks.push({ source: link.source.id, target: link.target.id })\r\n        }\r\n      });\r\n      console.log('connectedLinks: ')\r\n      console.log(connectedLinks)\r\n      return connectedLinks\r\n    }\r\n\r\n    function set_highlight(d, connectedNodes) {\r\n      // filter based on connectednodes\r\n      d3.select('.nodesellipse').selectAll('ellipse')\r\n        .filter(function (ellipses) {\r\n          if (connectedNodes.includes(ellipses.id)) { return true }\r\n          else { return false }\r\n        })\r\n        // set class\r\n        .classed('ellipse_highlight', true);\r\n    }\r\n\r\n    function exit_highlight(d) {\r\n      //remove all highlights\r\n      d3.select('.nodesellipse').selectAll('ellipse')\r\n        .filter(function (d) { return true })\r\n        .classed('ellipse_highlight', false);\r\n    }\r\n\r\n    function set_fade(d, connectedNodes) {\r\n      console.log('setting fade')\r\n      d3.select('.nodesellipse').selectAll('ellipse')\r\n        .filter(function (ellipses) {\r\n          if (!(connectedNodes.includes(ellipses.id))) { return true }\r\n          else { return false }\r\n        })\r\n        // set class\r\n        .classed('faded', true);\r\n\r\n\r\n      d3.select('.nodestext').selectAll('text')\r\n        .filter(function (ellipses) {\r\n          if (!(connectedNodes.includes(ellipses.id))) { return true }\r\n          else { return false }\r\n        })\r\n        // set class\r\n        .classed('faded', true);\r\n\r\n\r\n    }\r\n    function exit_fade(d) {\r\n      //remove all highlights\r\n      d3.select('.nodesellipse').selectAll('ellipse')\r\n        .filter(function (d) { return true })\r\n        .classed('faded', false);\r\n\r\n      d3.select('.nodestext').selectAll('text')\r\n        .filter(function (d) { return true })\r\n        .classed('faded', false);\r\n\r\n\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"forcegraph\">\r\n    </div >;\r\n  }\r\n}\r\n\r\nexport default ForceGraph","import React from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nclass QueryForm extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      query: \"SELECT * WHERE\" + \"{\" + \"?sub ?pred ?obj .\" + \"}\" + \"LIMIT 10\",\r\n      subject: \"http://lod.onderwijsregistratie.nl/rio/id/Onderwijsbestuur/100B490\",\r\n    }\r\n\r\n    this.handleQueryChange = this.handleQueryChange.bind(this);\r\n    this.handleQuerySubmit = this.handleQuerySubmit.bind(this);\r\n\r\n    this.handleSubjectChange = this.handleSubjectChange.bind(this)\r\n    this.handleSubjectDetailsQuerySubmit = this.handleSubjectDetailsQuerySubmit.bind(this)\r\n\r\n  }\r\n\r\n  handleQueryChange(event) {\r\n    console.log(event.target.value)\r\n    this.setState({ query: event.target.value });\r\n  }\r\n\r\n  handleQuerySubmit(event) {\r\n    this.props.fetchSparql(this.state.query, this.props.datasource.currentDatasource)\r\n    event.preventDefault();\r\n  }\r\n\r\n  handleSubjectChange(event) {\r\n    console.log(event.target.value)\r\n    this.setState({ subject: event.target.value });\r\n  }\r\n\r\n  handleSubjectDetailsQuerySubmit(event) {\r\n    var uri = this.state.subject\r\n    const query = 'SELECT * ' +\r\n      'WHERE { <' + uri + '> ?property ?object }' +\r\n      'limit 20';\r\n    this.props.fetchAboutSubject(query, uri, this.props.datasource.currentDatasource)\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n\r\n        <div id=\"queryform\">\r\n          <Form onSubmit={this.handleQuerySubmit}>\r\n\r\n            <Form.Group controlId=\"QueryInput\">\r\n              <Form.Label>Query input:</Form.Label>\r\n              <Form.Control as=\"textarea\" rows=\"5\" placeholder=\"Input query\" value={this.state.query} onChange={this.handleQueryChange} />\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n          </Form>\r\n        </div>\r\n\r\n        <div id=\"querysubjectdetails form\">\r\n          <Form onSubmit={this.handleSubjectDetailsQuerySubmit}>\r\n\r\n            <Form.Group controlId=\"SubjectInput\">\r\n              <Form.Label>Query input:</Form.Label>\r\n              <Form.Control as=\"textarea\" rows=\"5\" placeholder=\"Input subject\" value={this.state.subject} onChange={this.handleSubjectChange} />\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n          </Form>\r\n        </div>\r\n\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\nexport default QueryForm\r\n\r\n","import { SET_CURRENT_DATASOURCE, TOGGLE_SEARCHALL, TOGGLE_BLOCK_DATASOURCE, DELETE_DATASOURCE, ADD_DATASOURCE } from '../actionTypes'\r\n\r\nexport const setCurrentDatasource = (datasource) => {\r\n  return {\r\n    type: SET_CURRENT_DATASOURCE,\r\n    datasource\r\n  }\r\n}\r\n\r\nexport const toggleSearchAll = () => {\r\n  return {\r\n    type: TOGGLE_SEARCHALL\r\n  }\r\n}\r\n\r\nexport const toggleBlockDatasource = (datasource) => {\r\n  return {\r\n    type: TOGGLE_BLOCK_DATASOURCE,\r\n    datasource\r\n  }\r\n}\r\n\r\nexport const deleteDatasource = (datasource) => {\r\n  return {\r\n    type: DELETE_DATASOURCE,\r\n    datasource\r\n  }\r\n}\r\n\r\nexport const addDatasource = (name, endpoint) => {\r\n  return {\r\n    type: ADD_DATASOURCE,\r\n    name,\r\n    endpoint,\r\n  }\r\n}\r\n\r\n\r\n","export const thunkCreator = (action) => {\r\n  const { types, promise, ...rest } = action\r\n  const [REQUESTED, RESOLVED, REJECTED] = types\r\n\r\n  return (dispatch) => {\r\n    dispatch({ ...rest, type: REQUESTED })\r\n\r\n    return promise\r\n      .then(result => {\r\n        if (result.error || result.errors) throw new Error(result.error)\r\n        dispatch({ ...rest, type: RESOLVED, result })\r\n        return result\r\n      })\r\n      .catch(error => {\r\n        dispatch({ ...rest, type: REJECTED, error })\r\n        //throw error\r\n      })\r\n  }\r\n}","import { FETCH_TEST_REQUEST, FETCH_TEST_SUCCESS, FETCH_TEST_FAILURE } from '../actionTypes'\r\nimport { FETCH_SPARQL_REQUEST, FETCH_SPARQL_SUCCESS, FETCH_SPARQL_FAILURE } from '../actionTypes'\r\nimport { FETCH_SPARQL_ABOUTSUBJECT_REQUEST, FETCH_SPARQL_ABOUTSUBJECT_SUCCESS, FETCH_SPARQL_ABOUTSUBJECT_FAILURE } from '../actionTypes'\r\nimport { thunkCreator } from './utils'\r\nimport qs from 'qs'\r\n\r\nconst axios = require('axios');\r\n\r\nexport const fetchTest = () => thunkCreator({\r\n  types: [FETCH_TEST_REQUEST, FETCH_TEST_SUCCESS, FETCH_TEST_FAILURE],\r\n  promise: fetch(`https://www.anapioficeandfire.com/api/books`)\r\n    .then(response => response.json())\r\n    .catch(error => { console.log(error) })\r\n\r\n})\r\n\r\nexport const fetchSparql = (query, datasource) => thunkCreator({\r\n  types: [FETCH_SPARQL_REQUEST, FETCH_SPARQL_SUCCESS, FETCH_SPARQL_FAILURE],\r\n  promise: axios({\r\n    method: 'post',\r\n    url: datasource,\r\n    data: qs.stringify({\r\n      action: 'exec',\r\n      queryLn: 'SPARQL',\r\n      ref: 'text',\r\n      query,\r\n    }),\r\n    headers: {\r\n      Accept: 'application/sparql-results+json'\r\n    },\r\n\r\n  })\r\n  //  .then(response => console.log(response))\r\n  // .catch(error => { console.log(error) })\r\n})\r\n\r\nexport const fetchAboutSubject = (query, subject, datasource) => thunkCreator({\r\n  types: [FETCH_SPARQL_ABOUTSUBJECT_REQUEST, FETCH_SPARQL_ABOUTSUBJECT_SUCCESS, FETCH_SPARQL_ABOUTSUBJECT_FAILURE],\r\n  promise: axios({\r\n    method: 'post',\r\n    url: datasource,\r\n    data: qs.stringify({\r\n      action: 'exec',\r\n      queryLn: 'SPARQL',\r\n      ref: 'text',\r\n      query,\r\n    }),\r\n    headers: {\r\n      Accept: 'application/sparql-results+json'\r\n    },\r\n    subject: subject\r\n\r\n  })\r\n  //  .then(response => console.log(response))\r\n  // .catch(error => { console.log(error) })\r\n})","import { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport QueryForm from '../components/QueryForm'\r\nimport { fetchTest, fetchSparql, fetchAboutSubject } from '../redux/actions/index'\r\nimport { push } from 'connected-react-router'\r\n\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    datasource: state.datasource,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) =>\r\n  bindActionCreators({ fetchTest, fetchSparql, fetchAboutSubject, push }, dispatch)\r\n\r\nconst ConnectedQueryForm = connect(mapStateToProps, mapDispatchToProps)(QueryForm)\r\n\r\nexport default ConnectedQueryForm","import React from 'react'\r\nimport { Modal, Button, Form } from 'react-bootstrap'\r\nimport useState from 'react'\r\nimport { addDatasource } from '../redux/actions/datasource';\r\n\r\nclass AddDatasource extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = ({\r\n      show: false,\r\n      name: '',\r\n      endpoint: '',\r\n\r\n    })\r\n\r\n    this.handleNameChange = this.handleNameChange.bind(this)\r\n    this.handleEndpointChange = this.handleEndpointChange.bind(this)\r\n  }\r\n  handleModal() {\r\n    this.setState({\r\n      show: !this.state.show,\r\n      name: '',\r\n      endpoint: '',\r\n    })\r\n  }\r\n\r\n  handleNameChange(event) {\r\n    console.log(event.target.value)\r\n    this.setState({ name: event.target.value });\r\n  }\r\n\r\n  handleEndpointChange(event) {\r\n    console.log(event.target.value)\r\n    this.setState({ endpoint: event.target.value });\r\n  }\r\n\r\n  handleSubmitDatasource() {\r\n    console.log('submit datasource')\r\n\r\n    this.props.addDatasource(this.state.name, this.state.endpoint)\r\n\r\n    this.setState({\r\n      show: !this.state.show\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Button variant=\"primary\" onClick={() => { this.handleModal() }}>\r\n          Databron Toevoegen\r\n      </Button>\r\n\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={() => this.handleModal()}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Databron Toevoegen: </Modal.Title>\r\n          </Modal.Header>\r\n\r\n          <Modal.Body>\r\n\r\n            <Form onSubmit={() => this.handleSubmitDatasource()}>\r\n\r\n              <Form.Group controlId=\"formName\">\r\n                <Form.Label>Naam:</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Naam\" onChange={this.handleNameChange} />\r\n\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"formEndpoint\">\r\n                <Form.Label>Endpoint:</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Endpoint\" onChange={this.handleEndpointChange} />\r\n              </Form.Group>\r\n            </Form>\r\n\r\n          </Modal.Body>\r\n\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={() => { this.handleModal() }}>Sluiten</Button>\r\n            <Button variant=\"primary\" onClick={() => { this.handleSubmitDatasource() }}>Opslaan</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default AddDatasource\r\n\r\n","import { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport AddDatasource from '../components/AddDataSource'\r\n\r\nimport { addDatasource } from '../redux/actions/datasource'\r\n\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) =>\r\n  bindActionCreators({\r\n    addDatasource,\r\n  }, dispatch)\r\n\r\nconst ConnectedAddDatasource = connect(mapStateToProps, mapDispatchToProps)(AddDatasource)\r\n\r\nexport default ConnectedAddDatasource","import React from 'react';\r\nimport { ButtonGroup, Button, Dropdown, Row, Col } from 'react-bootstrap'\r\n\r\nimport ConnectedAddDatasource from '../containers/ConnectedAddDatasource'\r\n\r\nclass DataSourceDropdown extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n  render() {\r\n    const renderBlockButton = (item) => {\r\n      if (item.active) {\r\n        return (\r\n          <Button onClick={() => this.props.toggleBlockDatasource(item)}>Block </Button>\r\n        )\r\n      }\r\n      else {\r\n        return (\r\n          <Button onClick={() => this.props.toggleBlockDatasource(item)}>Unblock </Button>\r\n        )\r\n      }\r\n    }\r\n\r\n    const renderDatasourceDropdown = () => {\r\n      if (this.props.datasource.searchAll === 'Uit') {\r\n        return (\r\n          <Dropdown className=\"w-100\">\r\n            <Dropdown.Toggle >Geselecteerde bron: {this.props.datasource.currentDatasource}</Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              {this.props.datasource.datasources.map((item, key) =>\r\n                <Dropdown.Item key={key} >\r\n                  <Row>\r\n                    <Col>\r\n                      <div onClick={() => this.props.setCurrentDatasource(item)}>{item.name}</div>\r\n                    </Col>\r\n                    <Col>\r\n                      <ButtonGroup className=\"float-right\">\r\n\r\n                        {renderBlockButton(item)}\r\n                        <Button onClick={() => this.props.deleteDatasource(item)}>Remove</Button>\r\n                      </ButtonGroup>\r\n                    </Col>\r\n                  </Row>\r\n                </Dropdown.Item>\r\n              )}\r\n              {<ConnectedAddDatasource />}\r\n            </Dropdown.Menu>\r\n          </Dropdown>)\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div id=\"Datasource\">\r\n        <Row>\r\n          <Col sm={3}>\r\n            <Button className=\"w-100\" onClick={() => this.props.toggleSearchAll()}>Doorzoek alle bronnen: {this.props.datasource.searchAll}</Button>\r\n          </Col>\r\n          <Col sm={9}>\r\n            {renderDatasourceDropdown()}\r\n          </Col>\r\n        </Row>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DataSourceDropdown\r\n","import { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport DataSource from '../components/DataSource'\r\nimport { setCurrentDatasource, toggleSearchAll, toggleBlockDatasource, deleteDatasource } from '../redux/actions/index';\r\n\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    datasource: state.datasource\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) =>\r\n  bindActionCreators({\r\n    setCurrentDatasource,\r\n    toggleSearchAll,\r\n    toggleBlockDatasource,\r\n    deleteDatasource,\r\n  }, dispatch)\r\n\r\nconst ConnectedDataSource = connect(mapStateToProps, mapDispatchToProps)(DataSource)\r\n\r\nexport default ConnectedDataSource","import React from 'react'\r\nimport { Button, Card, CardDeck } from 'react-bootstrap'\r\n\r\nclass Example extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      query: \"SELECT * WHERE\" + \"{\" + \"?sub ?pred ?obj .\" + \"}\" + \"LIMIT 10\",\r\n      subject: \"http://lod.onderwijsregistratie.nl/rio/id/Onderwijsbestuur/100B490\",\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <CardDeck>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Persoon & relevante adressen</Card.Title>\r\n              <Card.Text>\r\n                Dit voorbeeld laat zien hoe de applicatie een persoon visualiseerd met de bijbehorende relevante adressen</Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <Button onClick={() => this.props.fetchTest()}>Bekijk voorbeeld</Button>\r\n            </Card.Footer>\r\n          </Card>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Voorbeeld 2</Card.Title>\r\n              <Card.Text>\r\n                Indien mogelijk iets dat demonstreert dat dat vanaf meerdere bronnen afkomstig kan zijn</Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <Button onClick={() => this.props.fetchTest()}>Bekijk voorbeeld</Button>\r\n            </Card.Footer>\r\n          </Card>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Voorbeeld 3</Card.Title>\r\n              <Card.Text>\r\n                Dit voorbeeld laat zien hoe de applicatie een persoon visualiseerd met de bijbehorende relevante adressen</Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <Button onClick={() => this.props.fetchTest()}>Bekijk voorbeeld</Button>\r\n            </Card.Footer>\r\n          </Card>\r\n\r\n        </CardDeck>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Example","import { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport Examples from '../components/Examples'\r\nimport { fetchTest, fetchSparql, fetchAboutSubject } from '../redux/actions/index'\r\nimport { push } from 'connected-react-router'\r\n\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    datasource: state.datasource,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, props) =>\r\n  bindActionCreators({ fetchTest, fetchSparql, fetchAboutSubject, push }, dispatch)\r\n\r\nconst ConnectedExamples = connect(mapStateToProps, mapDispatchToProps)(Examples)\r\n\r\nexport default ConnectedExamples","import React from 'react'\r\n\r\nimport {\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom'\r\n\r\nimport { Nav } from 'react-bootstrap'\r\n\r\nimport {\r\n  NavLink,\r\n} from 'react-router-dom'\r\n\r\n\r\nimport ConnectedForceGraph from '../containers/ConnectedForceGraph';\r\nimport ConnectedQueryForm from '../containers/ConnectedQueryForm'\r\nimport ConnectedDataSource from '../containers/ConnectedDataSource'\r\nimport ConnectedExamples from '../containers/ConnectedExamples';\r\n\r\nclass Graph extends React.Component {\r\n  render() {\r\n    console.log(this.props.match.path)\r\n    return (\r\n      <div className=\"Graph\">\r\n        <h2>Graph</h2>\r\n        <Nav fill variant=\"tabs\" defaultActiveKey=\"/sparql-react-browser/graph/examples\">\r\n          <Nav.Item>\r\n            <Nav.Link as={NavLink} activeClassName=\"active\" to=\"/sparql-react-browser/graph/examples\">Voorbeelden</Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link as={NavLink} activeClassName=\"active\" to=\"/sparql-react-browser/graph/queryform\">Query</Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n\r\n        <ConnectedDataSource />\r\n\r\n        <Switch>\r\n          <Route exact path={`${this.props.match.path}/examples`} component={ConnectedExamples} />\r\n          <Route exact path={`${this.props.match.path}/queryform`} component={ConnectedQueryForm} />\r\n        </Switch>\r\n\r\n\r\n        <ConnectedForceGraph />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Graph","import React from 'react'\r\n\r\nclass Contact extends React.Component {\r\n  onSubmit = () => {\r\n    this.props.history.push('/')\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Contact\">\r\n        <h2>Contact form</h2>\r\n        <form>\r\n          <input placeholder=\"name\" type=\"name\" />\r\n          <input placeholder=\"email\" type=\"email\" />\r\n          <button onClick={this.onSubmit}>Submit</button>\r\n        </form>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nexport default Contact","import React from 'react'\r\n\r\nclass NotFound extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"NotFound\">\r\n        <h1>Not Found...</h1>\r\n        <button onClick={() => this.props.history.push('/home')}>Go home</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default NotFound","import React from 'react'\r\nimport {\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom'\r\n\r\n\r\n\r\n//pages\r\nimport Home from '../pages/Home'\r\nimport Graph from '../pages/Graph'\r\nimport Contact from '../pages/Contact'\r\nimport Notfound from '../pages/NotFound'\r\n\r\nclass PageContent extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"PageContent\">\r\n        <div>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/sparql-react-browser/\" component={Home} />\r\n            <Route exact path=\"/sparql-react-browser/home\" component={Home} />\r\n            <Route path=\"/sparql-react-browser/graph\" component={Graph} />\r\n            <Route path=\"/sparql-react-browser/contact\" component={Contact} />\r\n\r\n            <Route component={Notfound} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PageContent","import React from 'react'\r\n\r\nconst Loading = ({ isLoading }) =>\r\n  isLoading && <span>Loading...</span>\r\n\r\nexport default Loading","import { connect } from 'react-redux'\r\nimport Loading from '../components/Loading'\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  const { loading } = state\r\n\r\n  const isLoading = Object.keys(loading).reduce((result, requestName) => {\r\n    if (result === true) return true\r\n    if (loading[requestName] > 0) return true\r\n    return false\r\n  }, false)\r\n\r\n  return { isLoading }\r\n}\r\n\r\nconst ConnectedLoading = connect(mapStateToProps)(Loading)\r\n\r\nexport default ConnectedLoading","import React from 'react'\r\n\r\nconst Error = ({ message }) =>\r\n  message\r\n    ? <span style={{ color: 'red' }}>Error: {message}</span>\r\n    : null\r\n\r\nexport default Error","import { connect } from 'react-redux'\r\n\r\nimport Error from '../components/Error'\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    message: state.error && state.error.message\r\n  }\r\n}\r\n\r\nconst ConnectedError = connect(mapStateToProps)(Error)\r\n\r\nexport default ConnectedError","import React from 'react';\r\n\r\n//Router\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport { history } from './redux/store/middleware'\r\n\r\n//bootstrap stylesheet\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n//custom stylesheet\r\nimport './css/App.scss';\r\n\r\n//devtools\r\nimport DevTools from './containers/DevTools.jsx'\r\n\r\nimport { Provider } from 'react-redux'\r\n\r\nimport configureStore from './redux/store/index'\r\n\r\n//Bootrap components\r\nimport Container from 'react-bootstrap/Container'\r\n\r\n// Layout components\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\nimport PageContent from './components/PageContent';\r\nimport ConnectedLoading from './containers/ConnectedLoading'\r\nimport ConnectedError from './containers/ConnectedError'\r\n\r\n//init redux store\r\nconst store = configureStore()\r\n\r\nconsole.log('initializing store: ', store.getState())\r\n\r\n// const unsubscribe = store.subscribe(() => {\r\n//   //console.log('state changed: ', store.getState())\r\n// })\r\n\r\n\r\n\r\n\r\nconst App = () => (\r\n  <Provider store={store}>\r\n    <div className=\"App\">\r\n      <ConnectedRouter history={history}>\r\n        <Header />\r\n        <Container>\r\n          <PageContent />\r\n          <ConnectedLoading />\r\n          <ConnectedError />\r\n        </Container>\r\n\r\n        <Footer />\r\n      </ConnectedRouter>\r\n      {/* exclude devtools in production */}\r\n      {(process.env.NODE_ENV !== 'production') && <DevTools />}\r\n    </div>\r\n  </Provider>\r\n);\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}